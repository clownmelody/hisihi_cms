/*! Zepto 1.1.6 (generated with Zepto Builder) - zepto event ajax form ie fx fx_methods selector touch assets - zeptojs.com/license */

//     (c) 2010-2016 Thomas Fuchs

//     Zepto.js may be freely distributed under the MIT license.

/**
 * StyleFix 1.0.3 & PrefixFree 1.0.7
 * @author Lea Verou
 * MIT license
 */

/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.0
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */

function FastClick(e){"use strict";function n(e,t){return function(){return e.apply(t,arguments)}}var t;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e;if(FastClick.notNeeded(e))return;deviceIsAndroid&&(e.addEventListener("mouseover",n(this.onMouse,this),!0),e.addEventListener("mousedown",n(this.onMouse,this),!0),e.addEventListener("mouseup",n(this.onMouse,this),!0)),e.addEventListener("click",n(this.onClick,this),!0),e.addEventListener("touchstart",n(this.onTouchStart,this),!1),e.addEventListener("touchmove",n(this.onTouchMove,this),!1),e.addEventListener("touchend",n(this.onTouchEnd,this),!1),e.addEventListener("touchcancel",n(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;t==="click"?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;t==="click"?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),typeof e.onclick=="function"&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null)}var Zepto=function(){function e(e){return null==e?String(e):J[K.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function s(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e){return"number"==typeof e.length}function u(e){return O.call(e,function(e){return null!=e})}function a(e){return e.length>0?T.fn.concat.apply([],e):e}function f(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e){return e in P?P[e]:P[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function c(e,t){return"number"!=typeof t||H[f(e)]?t:t+"px"}function h(e){var t,n;return D[e]||(t=_.createElement(e),_.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),D[e]=n),D[e]}function p(e){return"children"in e?M.call(e.children):T.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function d(e,t){var n,r=e?e.length:0;for(n=0;r>n;n++)this[n]=e[n];this.length=r,this.selector=t||""}function v(e,t,n){for(x in t)n&&(s(t[x])||Z(t[x]))?(s(t[x])&&!s(e[x])&&(e[x]={}),Z(t[x])&&!Z(e[x])&&(e[x]=[]),v(e[x],t[x],n)):t[x]!==S&&(e[x]=t[x])}function m(e,t){return null==t?T(e):T(e).filter(t)}function g(e,n,r,i){return t(n)?n.call(e,r,i):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className||"",r=n&&n.baseVal!==S;return t===S?r?n.baseVal:n:void (r?n.baseVal=t:e.className=t)}function w(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?T.parseJSON(e):e):e}catch(t){return e}}function E(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)E(e.childNodes[n],t)}var S,x,T,N,C,k,L=[],A=L.concat,O=L.filter,M=L.slice,_=window.document,D={},P={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},B=/^\s*<(\w+|!)[^>]*>/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,I=/^(?:body|html)$/i,q=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],U=["after","prepend","before","append"],z=_.createElement("table"),W=_.createElement("tr"),X={tr:_.createElement("tbody"),tbody:z,thead:z,tfoot:z,td:W,th:W,"*":_.createElement("div")},V=/complete|loaded|interactive/,$=/^[\w-]*$/,J={},K=J.toString,Q={},G=_.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return Q.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=G).appendChild(e),r=~Q.qsa(i,t).indexOf(e),s&&G.removeChild(e),r},C=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},k=function(e){return O.call(e,function(t,n){return e.indexOf(t)==n})},Q.fragment=function(e,t,n){var r,i,o;return j.test(e)&&(r=T(_.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(F,"<$1></$2>")),t===S&&(t=B.test(e)&&RegExp.$1),t in X||(t="*"),o=X[t],o.innerHTML=""+e,r=T.each(M.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(i=T(r),T.each(n,function(e,t){R.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},Q.Z=function(e,t){return new d(e,t)},Q.isZ=function(e){return e instanceof Q.Z},Q.init=function(e,n){var r;if(!e)return Q.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&B.test(e))r=Q.fragment(e,RegExp.$1,n),e=null;else{if(n!==S)return T(n).find(e);r=Q.qsa(_,e)}else{if(t(e))return T(_).ready(e);if(Q.isZ(e))return e;if(Z(e))r=u(e);else if(i(e))r=[e],e=null;else if(B.test(e))r=Q.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==S)return T(n).find(e);r=Q.qsa(_,e)}}return Q.Z(r,e)},T=function(e,t){return Q.init(e,t)},T.extend=function(e){var t,n=M.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){v(e,n,t)}),e},Q.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],s=r||i?t.slice(1):t,o=$.test(s);return e.getElementById&&o&&r?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:M.call(o&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},T.contains=_.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},T.type=e,T.isFunction=t,T.isWindow=n,T.isArray=Z,T.isPlainObject=s,T.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},T.inArray=function(e,t,n){return L.indexOf.call(t,e,n)},T.camelCase=C,T.trim=function(e){return null==e?"":String.prototype.trim.call(e)},T.uuid=0,T.support={},T.expr={},T.noop=function(){},T.map=function(e,t){var n,r,i,s=[];if(o(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&s.push(n);else for(i in e)n=t(e[i],i),null!=n&&s.push(n);return a(s)},T.each=function(e,t){var n,r;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},T.grep=function(e,t){return O.call(e,t)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),T.fn={constructor:Q.Z,length:0,forEach:L.forEach,reduce:L.reduce,push:L.push,sort:L.sort,splice:L.splice,indexOf:L.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Q.isZ(t)?t.toArray():t;return A.apply(Q.isZ(this)?this.toArray():this,n)},map:function(e){return T(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return T(M.apply(this,arguments))},ready:function(e){return V.test(_.readyState)&&_.body?e(T):_.addEventListener("DOMContentLoaded",function(){e(T)},!1),this},get:function(e){return e===S?M.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return L.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):T(O.call(this,function(t){return Q.matches(t,e)}))},add:function(e,t){return T(k(this.concat(T(e,t))))},is:function(e){return this.length>0&&Q.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==S)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):o(e)&&t(e.item)?M.call(e):T(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return T(n)},has:function(e){return this.filter(function(){return i(e)?T.contains(this,e):T(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:T(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:T(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?T(e).filter(function(){var e=this;return L.some.call(n,function(t){return T.contains(t,e)})}):1==this.length?T(Q.qsa(this[0],e)):this.map(function(){return Q.qsa(this,e)}):T()},closest:function(e,t){var n=this[0],i=!1;for("object"==typeof e&&(i=T(e));n&&!(i?i.indexOf(n)>=0:Q.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return T(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=T.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(k(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||M.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return O.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return T.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=T(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){T(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){T(this[0]).before(e=T(e));for(var t;(t=e.children()).length;)e=t.first();T(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=T(this),i=r.contents(),s=n?e.call(this,t):e;i.length?i.wrapAll(s):r.append(s)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=T(this);(e===S?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return T(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return T(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;T(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for(x in e)y(this,x,e[x]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:S},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=Y[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(q,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?w(r):S},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=T(this),r=g(this,e,t,n.offset()),i=n.offsetParent().offset(),s={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;if(!T.contains(_.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[C(t)]||r.getPropertyValue(t);if(Z(t)){var s={};return T.each(t,function(e,t){s[t]=i.style[C(t)]||r.getPropertyValue(t)}),s}}var o="";if("string"==e(t))n||0===n?o=f(t)+":"+c(t,n):this.each(function(){this.style.removeProperty(f(t))});else for(x in t)t[x]||0===t[x]?o+=f(x)+":"+c(x,t[x])+";":this.each(function(){this.style.removeProperty(f(x))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(T(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?L.some.call(this,function(e){return this.test(b(e))},l(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){N=[];var n=b(this),r=g(this,e,t,n);r.split(/\s+/g).forEach(function(e){T(this).hasClass(e)||N.push(e)},this),N.length&&b(this,n+(n?" ":"")+N.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===S)return b(this,"");N=b(this),g(this,e,t,N).split(/\s+/g).forEach(function(e){N=N.replace(l(e)," ")}),b(this,N.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=T(this),i=g(this,e,n,b(this));i.split(/\s+/g).forEach(function(e){(t===S?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===S?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===S?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=I.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(T(e).css("margin-top"))||0,n.left-=parseFloat(T(e).css("margin-left"))||0,r.top+=parseFloat(T(t[0]).css("border-top-width"))||0,r.left+=parseFloat(T(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||_.body;e&&!I.test(e.nodeName)&&"static"==T(e).css("position");)e=e.offsetParent;return e})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});T.fn[e]=function(i){var s,o=this[0];return i===S?n(o)?o["inner"+t]:r(o)?o.documentElement["scroll"+t]:(s=this.offset())&&s[e]:this.each(function(t){o=T(this),o.css(e,g(this,i,t,o[e]()))})}}),U.forEach(function(t,n){var r=n%2;T.fn[t]=function(){var t,i,s=T.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:Q.fragment(n)}),o=this.length>1;return s.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var u=T.contains(_.documentElement,i);s.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!i)return T(e).remove();i.insertBefore(e,t),u&&E(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},T.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return T(e)[t](this),this}}),Q.Z.prototype=d.prototype=T.fn,Q.uniq=k,Q.deserializeValue=w,T.zepto=Q,T}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function n(t,n,r,i){return t.global?e(n||y,r,i):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(e,t){var r=t.context;return t.beforeSend.call(r,e,t)===!1||n(t,r,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,r,"ajaxSend",[e,t])}function s(e,t,r,i){var s=r.context,o="success";r.success.call(s,e,o,t),i&&i.resolveWith(s,[e,o,t]),n(r,s,"ajaxSuccess",[t,r,e]),u(o,t,r)}function a(e,t,r,i,s){var o=i.context;i.error.call(o,r,t,e),s&&s.rejectWith(o,[r,t,e]),n(i,o,"ajaxError",[r,i,e||t]),u(t,r,i)}function u(e,t,i){var s=i.context;i.complete.call(s,t,e),n(i,s,"ajaxComplete",[t,i]),r(i)}function c(){}function l(e){return e&&(e=e.split(";",2)[0]),e&&(e==T?"html":e==E?"json":w.test(e)?"script":b.test(e)&&"xml")||"text"}function f(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function h(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data),e.data=void 0)}function p(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function d(e,n,r,i){var s,o=t.isArray(n),u=t.isPlainObject(n);t.each(n,function(n,f){s=t.type(f),i&&(n=r?i:i+"["+(u||"object"==s||"array"==s?n:"")+"]"),!i&&o?e.add(f.name,f.value):"array"==s||!r&&"object"==s?d(e,f,r,n):e.add(n,f)})}var m,g,v=0,y=window.document,x=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,E="application/json",T="text/html",j=/^\s*$/,C=y.createElement("a");C.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if("type"in e){var r,i,u=e.jsonpCallback,f=(t.isFunction(u)?u():u)||"jsonp"+ ++v,l=y.createElement("script"),c=window[f],h=function(e){t(l).triggerHandler("error",e||"abort")},p={abort:h};return n&&n.promise(p),t(l).on("load error",function(o,u){clearTimeout(i),t(l).off().remove(),"error"!=o.type&&r?s(r[0],p,e,n):a(null,u||"error",p,e,n),window[f]=c,r&&t.isFunction(c)&&c(r[0]),c=r=void 0}),o(p,e)===!1?(h("abort"),p):(window[f]=function(){r=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+f),y.head.appendChild(l),e.timeout>0&&(i=setTimeout(function(){h("timeout")},e.timeout)),p)}return t.ajax(e)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:E,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,r,u=t.extend({},e||{}),p=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===u[m]&&(u[m]=t.ajaxSettings[m]);i(u),u.crossDomain||(n=y.createElement("a"),n.href=u.url,n.href=n.href,u.crossDomain=C.protocol+"//"+C.host!=n.protocol+"//"+n.host),u.url||(u.url=window.location.toString()),(r=u.url.indexOf("#"))>-1&&(u.url=u.url.slice(0,r)),h(u);var d=u.dataType,v=/\?.+=\?/.test(u.url);if(v&&(d="jsonp"),u.cache!==!1&&(e&&e.cache===!0||"script"!=d&&"jsonp"!=d)||(u.url=f(u.url,"_="+Date.now())),"jsonp"==d)return v||(u.url=f(u.url,u.jsonp?u.jsonp+"=?":u.jsonp===!1?"":"callback=?")),t.ajaxJSONP(u,p);var x,w=u.accepts[d],b={},E=function(e,t){b[e.toLowerCase()]=[e,t]},T=/^([\w-]+:)\/\//.test(u.url)?RegExp.$1:window.location.protocol,S=u.xhr(),N=S.setRequestHeader;if(p&&p.promise(S),u.crossDomain||E("X-Requested-With","XMLHttpRequest"),E("Accept",w||"*/*"),(w=u.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(w)),(u.contentType||u.contentType!==!1&&u.data&&"GET"!=u.type.toUpperCase())&&E("Content-Type",u.contentType||"application/x-www-form-urlencoded"),u.headers)for(g in u.headers)E(g,u.headers[g]);if(S.setRequestHeader=E,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=c,clearTimeout(x);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==T){d=d||l(u.mimeType||S.getResponseHeader("content-type")),e=S.responseText;try{"script"==d?(1,eval)(e):"xml"==d?e=S.responseXML:"json"==d&&(e=j.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?a(n,"parsererror",S,u,p):s(e,S,u,p)}else a(S.statusText||null,S.status?"error":"abort",S,u,p)}},o(S,u)===!1)return S.abort(),a(null,"abort",S,u,p),S;if(u.xhrFields)for(g in u.xhrFields)S[g]=u.xhrFields[g];var P="async"in u?u.async:!0;S.open(u.type,u.url,P,u.username,u.password);for(g in b)N.apply(S,b[g]);return u.timeout>0&&(x=setTimeout(function(){S.onreadystatechange=c,S.abort(),a(null,"timeout",S,u,p)},u.timeout)),S.send(u.data?u.data:null),S},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,s=this,o=e.split(/\s/),u=p(e,n,r),a=u.success;return o.length>1&&(u.url=o[0],i=o[1]),u.success=function(e){s.html(i?t("<div>").html(e.replace(x,"")).find(i):e),a&&a.apply(s,arguments)},t.ajax(u),this};var S=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(S(e)+"="+S(n))},d(r,e,n),r.join("&").replace(/%20/g,"+")}}(Zepto),function(e){var t,n=[];e.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(n.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",t&&clearTimeout(t),t=setTimeout(function(){n=[]},6e4)),this.parentNode.removeChild(this))})}}(Zepto),function(e){function t(e){return e._zid||(e._zid=h++)}function n(e,n,s,o){if(n=r(n),n.ns)var u=i(n.ns);return(m[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||u.test(e.ns))&&(!s||t(e.fn)===t(s))&&(!o||e.sel==o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function s(e,t){return e.del&&!y&&e.e in b||!!t}function o(e){return w[e]||y&&b[e]||e}function u(n,i,u,a,l,h,p){var d=t(n),v=m[d]||(m[d]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(u);var i=r(t);i.fn=u,i.sel=l,i.e in w&&(u=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var d=h||u;i.proxy=function(e){if(e=f(e),!e.isImmediatePropagationStopped()){e.data=a;var t=d.apply(n,e._args==c?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=v.length,v.push(i),"addEventListener"in n&&n.addEventListener(o(i.e),i.proxy,s(i,p))})}function a(e,r,i,u,a){var f=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,u).forEach(function(t){delete m[f][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,s(t,a))})})}function f(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(T,function(e,r){var i=n[e];t[e]=function(){return this[r]=E,i&&i.apply(n,arguments)},t[r]=S}),(n.defaultPrevented!==c?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function l(e){var t,n={originalEvent:e};for(t in e)x.test(t)||e[t]===c||(n[t]=e[t]);return f(n,e)}var c,h=1,p=Array.prototype.slice,d=e.isFunction,v=function(e){return"string"==typeof e},m={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:u,remove:a},e.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(d(n)){var s=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return s._zid=t(n),s}if(v(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var E=function(){return!0},S=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,s){var o,f,h=this;return t&&!v(t)?(e.each(t,function(e,t){h.on(e,n,r,t,s)}),h):(v(n)||d(i)||i===!1||(i=r,r=n,n=c),(i===c||r===!1)&&(i=r,r=c),i===!1&&(i=S),h.each(function(c,h){s&&(o=function(e){return a(h,e.type,i),i.apply(this,arguments)}),n&&(f=function(t){var r,s=e(t.target).closest(n,h).get(0);return s&&s!==h?(r=e.extend(l(t),{currentTarget:s,liveFired:h}),(o||i).apply(s,[r].concat(p.call(arguments,1)))):void 0}),u(h,t,i,r,n,f||o)}))},e.fn.off=function(t,n,r){var i=this;return t&&!v(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(v(n)||d(r)||r===!1||(r=n,n=c),r===!1&&(r=S),i.each(function(){a(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):f(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,s;return this.each(function(o,u){i=l(v(t)?e.Event(t):t),i._args=r,i.target=u,e.each(n(u,t.type||t),function(e,t){return s=t.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),f(n)}}(Zepto),function(e){e.fn.serializeArray=function(){var n,r,i=[],s=function(e){return e.forEach?e.forEach(s):void i.push({name:n,value:e})};return this[0]&&e.each(this[0].elements,function(i,o){r=o.type,n=o.name,n&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&"file"!=r&&("radio"!=r&&"checkbox"!=r||o.checked)&&s(e(o).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(n){e.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value))}),e.join("&")},e.fn.submit=function(n){if(0 in arguments)this.bind("submit",n);else if(this.length){var r=e.Event("submit");this.eq(0).trigger(r),r.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(e){return i?i+e:e.toLowerCase()}var i,s,o,u,a,f,l,c,h,p,d="",v={Webkit:"webkit",Moz:"",O:"o"},m=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};e.each(v,function(e,n){return m.style[e+"TransitionProperty"]!==t?(d="-"+e.toLowerCase()+"-",i=n,!1):void 0}),s=d+"transform",y[o=d+"transition-property"]=y[u=d+"transition-duration"]=y[f=d+"transition-delay"]=y[a=d+"transition-timing-function"]=y[l=d+"animation-name"]=y[c=d+"animation-duration"]=y[p=d+"animation-delay"]=y[h=d+"animation-timing-function"]="",e.fx={off:i===t&&m.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(n,r,i,s,o){return e.isFunction(r)&&(s=r,i=t,r=t),e.isFunction(i)&&(s=i,i=t),e.isPlainObject(r)&&(i=r.easing,s=r.complete,o=r.delay,r=r.duration),r&&(r=("number"==typeof r?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,r,i,s,o)},e.fn.anim=function(r,i,d,v,m){var b,w,E,S={},x="",T=this,N=e.fx.transitionEnd,C=!1;if(i===t&&(i=e.fx.speeds._default/1e3),m===t&&(m=0),e.fx.off&&(i=0),"string"==typeof r)S[l]=r,S[c]=i+"s",S[p]=m+"s",S[h]=d||"linear",N=e.fx.animationEnd;else{w=[];for(b in r)g.test(b)?x+=b+"("+r[b]+") ":(S[b]=r[b],w.push(n(b)));x&&(S[s]=x,w.push(s)),i>0&&"object"==typeof r&&(S[o]=w.join(", "),S[u]=i+"s",S[f]=m+"s",S[a]=d||"linear")}return E=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind(N,E)}else e(this).unbind(N,E);C=!0,e(this).css(y),v&&v.call(this)},i>0&&(this.bind(N,E),setTimeout(function(){C||E.call(T)},1e3*(i+m)+25)),this.size()&&this.get(0).clientLeft,this.css(S),0>=i&&setTimeout(function(){T.each(function(){E.call(this)})},0),this},m=null}(Zepto),function(e,t){function n(n,r,i,s,o){"function"!=typeof r||o||(o=r,r=t);var u={opacity:i};return s&&(u.scale=s,n.css(e.fx.cssPrefix+"transform-origin","0 0")),n.animate(u,r,null,o)}function r(t,r,i,s){return n(t,r,0,i,function(){o.call(e(this)),s&&s.call(this)})}var i=window.document,s=(i.documentElement,e.fn.show),o=e.fn.hide,u=e.fn.toggle;e.fn.show=function(e,r){return s.call(this),e===t?e=0:this.css("opacity",0),n(this,e,1,"1,1",r)},e.fn.hide=function(e,n){return e===t?o.call(this):r(this,e,"0,0",n)},e.fn.toggle=function(n,r){return n===t||"boolean"==typeof n?u.call(this,n):this.each(function(){var t=e(this);t["none"==t.css("display")?"show":"hide"](n,r)})},e.fn.fadeTo=function(e,t,r){return n(this,e,t,null,r)},e.fn.fadeIn=function(e,t){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,s.call(this).fadeTo(e,n,t)},e.fn.fadeOut=function(e,t){return r(this,e,null,t)},e.fn.fadeToggle=function(t,n){return this.each(function(){var r=e(this);r[0==r.css("opacity")||"none"==r.css("display")?"fadeIn":"fadeOut"](t,n)})}}(Zepto),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(n){return null}}}}(),function(e){function t(t){return t=e(t),(!!t.width()||!!t.height())&&"none"!==t.css("display")}function n(e,t){e=e.replace(/=#\]/g,'="#"]');var n,r,i=u.exec(e);if(i&&i[2]in o&&(n=o[i[2]],r=i[3],e=i[1],r)){var s=Number(r);r=isNaN(s)?r.replace(/^["']|["']$/g,""):s}return t(e,n,r)}var r=e.zepto,i=r.qsa,s=r.matches,o=e.expr[":"]={visible:function(){return t(this)?this:void 0},hidden:function(){return t(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(e){return 0===e?this:void 0},last:function(e,t){return e===t.length-1?this:void 0},eq:function(e,t,n){return e===n?this:void 0},contains:function(t,n,r){return e(this).text().indexOf(r)>-1?this:void 0},has:function(e,t,n){return r.qsa(this,n).length?this:void 0}},u=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),a=/^\s*>/,f="Zepto"+ +(new Date);r.qsa=function(t,s){return n(s,function(n,o,u){try{var l;!n&&o?n="*":a.test(n)&&(l=e(t).addClass(f),n="."+f+" "+n);var h=i(t,n)}catch(p){throw console.error("error performing selector: %o",s),p}finally{l&&l.removeClass(f)}return o?r.uniq(e.map(h,function(e,t){return o.call(e,t,h,u)})):h})},r.matches=function(e,t){return n(t,function(t,n,r){return(!t||s(e,t))&&(!n||n.call(e,null,r)===e)})}}(Zepto),function(e){function t(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function n(){l=null,h.last&&(h.el.trigger("longTap"),h={})}function r(){l&&clearTimeout(l),l=null}function i(){u&&clearTimeout(u),a&&clearTimeout(a),f&&clearTimeout(f),l&&clearTimeout(l),u=a=f=l=null,h={}}function s(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function o(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var u,a,f,l,c,h={},p=750;e(document).ready(function(){var d,v,m,g,y=0,b=0;"MSGesture"in window&&(c=new MSGesture,c.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(h.el.trigger("swipe"),h.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){(!(g=o(t,"down"))||s(t))&&(m=g?t:t.touches[0],t.touches&&1===t.touches.length&&h.x2&&(h.x2=void 0,h.y2=void 0),d=Date.now(),v=d-(h.last||d),h.el=e("tagName"in m.target?m.target:m.target.parentNode),u&&clearTimeout(u),h.x1=m.pageX,h.y1=m.pageY,v>0&&250>=v&&(h.isDoubleTap=!0),h.last=d,l=setTimeout(n,p),c&&g&&c.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(!(g=o(e,"move"))||s(e))&&(m=g?e:e.touches[0],r(),h.x2=m.pageX,h.y2=m.pageY,y+=Math.abs(h.x1-h.x2),b+=Math.abs(h.y1-h.y2))}).on("touchend MSPointerUp pointerup",function(n){(!(g=o(n,"up"))||s(n))&&(r(),h.x2&&Math.abs(h.x1-h.x2)>30||h.y2&&Math.abs(h.y1-h.y2)>30?f=setTimeout(function(){h.el.trigger("swipe"),h.el.trigger("swipe"+t(h.x1,h.x2,h.y1,h.y2)),h={}},0):"last"in h&&(30>y&&30>b?a=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=i,h.el.trigger(t),h.isDoubleTap?(h.el&&h.el.trigger("doubleTap"),h={}):u=setTimeout(function(){u=null,h.el&&h.el.trigger("singleTap"),h={}},250)},0):h={}),y=b=0)}).on("touchcancel MSPointerCancel pointercancel",i),e(window).on("scroll",i)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),define("$",function(){}),define("fx",["$"],function(){(function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(e){return s?s+e:e.toLowerCase()}var i="",s,o={Webkit:"webkit",Moz:"",O:"o"},u=document.createElement("div"),a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,f,l,c,h,p,d,v,m,g,y={};e.each(o,function(e,n){if(u.style[e+"TransitionProperty"]!==t)return i="-"+e.toLowerCase()+"-",s=n,!1}),f=i+"transform",y[l=i+"transition-property"]=y[c=i+"transition-duration"]=y[p=i+"transition-delay"]=y[h=i+"transition-timing-function"]=y[d=i+"animation-name"]=y[v=i+"animation-duration"]=y[g=i+"animation-delay"]=y[m=i+"animation-timing-function"]="",e.fx={off:s===t&&u.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:i,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(n,r,i,s,o){return e.isFunction(r)&&(s=r,i=t,r=t),e.isFunction(i)&&(s=i,i=t),e.isPlainObject(r)&&(i=r.easing,s=r.complete,o=r.delay,r=r.duration),r&&(r=(typeof r=="number"?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,r,i,s,o)},e.fn.anim=function(r,i,s,o,u){var b,w={},E,S="",x=this,T,N=e.fx.transitionEnd,C=!1;i===t&&(i=e.fx.speeds._default/1e3),u===t&&(u=0),e.fx.off&&(i=0);if(typeof r=="string")w[d]=r,w[v]=i+"s",w[g]=u+"s",w[m]=s||"linear",N=e.fx.animationEnd;else{E=[];for(b in r)a.test(b)?S+=b+"("+r[b]+") ":(w[b]=r[b],E.push(n(b)));S&&(w[f]=S,E.push(f)),i>0&&typeof r=="object"&&(w[l]=E.join(", "),w[c]=i+"s",w[p]=u+"s",w[h]=s||"linear")}return T=function(t){if(typeof t!="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(N,T)}else e(this).unbind(N,T);C=!0,e(this).css(y),o&&o.call(this)},i>0&&(this.bind(N,T),setTimeout(function(){if(C)return;T.call(x)},(i+u)*1e3+25)),this.size()&&this.get(0).clientLeft,this.css(w),i<=0&&setTimeout(function(){x.each(function(){T.call(this)})},0),this},u=null})(Zepto)}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(n){return}var r=e.href||e.getAttribute("data-href"),i=r.replace(/[^\/]+$/,""),s=(/^[a-z]{3,10}:/.exec(i)||[""])[0],o=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(i)||[""])[0],u=/^([^?]*)\??/.exec(r)[1],a=e.parentNode,f=new XMLHttpRequest,l;f.onreadystatechange=function(){4===f.readyState&&l()},l=function(){var n=f.responseText;if(n&&e.parentNode&&(!f.status||400>f.status||600<f.status)){n=t.fix(n,!0,e);if(i)var n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,n){return/^([a-z]{3,10}:|#)/i.test(n)?e:/^\/\//.test(n)?'url("'+s+n+'")':/^\//.test(n)?'url("'+o+n+'")':/^\?/.test(n)?'url("'+u+n+'")':'url("'+i+n+'")'}),r=i.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1"),n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+r,"gi"),"$1");r=document.createElement("style"),r.textContent=n,r.media=e.media,r.disabled=e.disabled,r.setAttribute("data-href",e.getAttribute("href")),a.insertBefore(r,e),a.removeChild(e),r.media=e.media}};try{f.open("GET",r),f.send(null)}catch(c){"undefined"!=typeof XDomainRequest&&(f=new XDomainRequest,f.onerror=f.onprogress=function(){},f.onload=l,f.open("GET",r),f.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var n=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=n}},styleAttribute:function(e){var n=e.getAttribute("style"),n=t.fix(n,!1,e);e.setAttribute("style",n)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,n){(t.fixers=t.fixers||[]).splice(void 0===n?t.fixers.length:n,0,e)},fix:function(e,n,r){for(var i=0;i<t.fixers.length;i++)e=t.fixers[i](e,n,r)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};(function(){setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)})()}}(),function(e){function t(e,t,r,i,s){return e=n[e],e.length&&(e=RegExp(t+"("+e.join("|")+")"+r,"gi"),s=s.replace(e,i)),s}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(e,r,i){var s=n.prefix;-1<n.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/ig,function(e,t,n,r){return t+(n||"")+"linear-gradient("+(90-r)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+s+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+s+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+s+"$2:",e);if(n.properties.length){var o=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(o,s+"$1")},e)}return r&&(e=t("selectors","","\\b",n.prefixSelector,e),e=t("atrules","@","\\b","@"+s+"$1",e)),e=e.replace(RegExp("-"+s,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(e){return(0<=n.properties.indexOf(e)?n.prefix:"")+e},value:function(e,r){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",e),0<=n.valueProperties.indexOf(r)&&(e=t("properties","(^|\\s|,)","($|\\s|,)","$1"+n.prefix+"$2$3",e)),e},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+n.prefix})},prefixProperty:function(e,t){var r=n.prefix+e;return t?StyleFix.camelCase(r):r}};(function(){var e={},t=[],r=getComputedStyle(document.documentElement,null),i=document.createElement("div").style,s=function(n){if("-"===n.charAt(0)){t.push(n),n=n.split("-");var r=n[1];for(e[r]=++e[r]||1;3<n.length;)n.pop(),r=n.join("-"),StyleFix.camelCase(r)in i&&-1===t.indexOf(r)&&t.push(r)}};if(0<r.length)for(var o=0;o<r.length;o++)s(r[o]);else for(var u in r)s(StyleFix.deCamelCase(u));var o=0,f,l;for(l in e)r=e[l],o<r&&(f=l,o=r);n.prefix="-"+f+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[];for(o=0;o<t.length;o++)u=t[o],0===u.indexOf(n.prefix)&&(f=u.slice(n.prefix.length),StyleFix.camelCase(f)in i||n.properties.push(f));!("Ms"!=n.Prefix||"transform"in i||"MsTransform"in i)&&"msTransform"in i&&n.properties.push("transform","transform-origin"),n.properties.sort()})(),function(){function e(e,t){return i[t]="",i[t]=e,!!i[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var r={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};n.functions=[],n.keywords=[];var i=document.createElement("div").style,s;for(s in t){var o=t[s],u=o.property,o=s+"("+o.params+")";!e(o,u)&&e(n.prefix+o,u)&&n.functions.push(s)}for(var f in r)u=r[f],!e(f,u)&&e(n.prefix+f,u)&&n.keywords.push(f)}(),function(){function t(e){return s.textContent=e+"{}",!!s.sheet.cssRules.length}var r={":read-only":null,":read-write":null,":any-link":null,"::selection":null},i={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var s=e.appendChild(document.createElement("style")),o;for(o in r){var u=o+(r[o]?"("+r[o]+")":"");!t(u)&&t(n.prefixSelector(u))&&n.selectors.push(o)}for(var f in i)u=f+" "+(i[f]||""),!t("@"+u)&&t("@"+n.prefix+u)&&n.atrules.push(f);e.removeChild(s)}(),n.valueProperties=["transition","transition-property"],e.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement),define("prefixfree",function(){});var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&e.type==="file"||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){"use strict";return deviceIsAndroid&&e.tagName.toLowerCase()==="select"?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;deviceIsIOS&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,n,r;if(e.targetTouches.length>1)return!0;t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0];if(deviceIsIOS){r=window.getSelection();if(r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))this.trackingClick=!1,this.targetElement=null;return!0},FastClick.prototype.findControl=function(e){"use strict";return e.control!==undefined?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,r,i,s,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=e.changedTouches[0],o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=o.tagName.toLowerCase();if(r==="label"){t=this.findControl(o);if(t){this.focus(o);if(deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o)){if(e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&r==="input")return this.targetElement=null,!1;this.focus(o),this.sendClick(o,e);if(!deviceIsIOS4||r!=="select")this.targetElement=null,e.preventDefault();return!1}if(deviceIsIOS&&!deviceIsIOS4){i=o.fastClickScrollParent;if(i&&i.fastClickLastScrollTop!==i.scrollTop)return!0}return this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):e.target.type==="submit"&&e.detail===0?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,n;if(typeof window.ontouchstart=="undefined")return!0;n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(!deviceIsAndroid)return!0;t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return e.style.msTouchAction==="none"?!0:!1},FastClick.attach=function(e){"use strict";return new FastClick(e)},typeof define!="undefined"&&define.amd?define("fastclick",[],function(){"use strict";return FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(e,t){function i(e,t){var n=e,i=t;return r.transform3d?"translate3d("+n+"px, "+i+"px, 0)":"translate("+n+"px, "+i+"px)"}function s(e,t){return r.touch?e.changedTouches[0][t]:e[t]}var n=e.document,r={transform3d:"WebKitCSSMatrix"in e&&"m11"in new WebKitCSSMatrix,touch:"ontouchstart"in e},o=function(){};o.prototype={init:function(e){var t=this,r=e||{},i=n.querySelectorAll(r.elem+" img"),s=n.querySelector(".imgzoom_pack"),o=n.querySelector(".imgzoom_pack .imgzoom_img img"),u=n.querySelector(".imgzoom_pack .imgzoom_x"),a="",f=e.btnsList||i;t.buffMove=3,t.buffScale=2,t.finger=!1,t._destroy(),u.addEventListener("click",function(){s.style.cssText="display:none",o.src="",o.style.cssText="",t._destroy(),n.removeEventListener("touchmove",t.eventStop,!1),e.closeCallback&&e.closeCallback()},!1);for(var l=i.length,c=0;c<l;c++)f[c].addEventListener("click",function(){e.initCallback&&e.initCallback(this);var r=this;e.btnsList&&(r=this.previousSibling),a=r.src,s.style.cssText="display:block",o.src=a,o.onload=function(){o.style.cssText="margin-top:-"+o.offsetHeight/2+"px",n.addEventListener("touchmove",t.eventStop,!1),t.imgBaseWidth=o.offsetWidth,t.imgBaseHeight=o.offsetHeight,t.addEventStart({wrapX:s.offsetWidth,wrapY:s.offsetHeight,mapX:o.width,mapY:o.height})}},!1)},addEventStart:function(e){var t=this,r=e||{};t.element=n.querySelector(".imgzoom_pack img"),t.wrapX=r.wrapX||0,t.wrapY=r.wrapY||0,t.mapX=r.mapX||0,t.mapY=r.mapY||0,t.outDistY=(t.mapY-t.wrapY)/2,t.width=t.mapX-t.wrapX,t.height=t.mapY-t.wrapY,t.element.addEventListener("touchstart",function(e){t._touchstart(e)},!1),t.element.addEventListener("touchmove",function(e){t._touchmove(e)},!1),t.element.addEventListener("touchend",function(e){t._touchend(e)},!1)},_destroy:function(){this.distX=0,this.distY=0,this.newX=0,this.newY=0},_changeData:function(){this.mapX=this.element.offsetWidth,this.mapY=this.element.offsetHeight,this.width=this.mapX-this.wrapX,this.height=this.mapY-this.wrapY},_touchstart:function(e){var t=this;e.preventDefault();var n=e.targetTouches.length;t._changeData(),n==1?(t.basePageX=s(e,"pageX"),t.basePageY=s(e,"pageY"),t.finger=!1):(t.finger=!0,t.startFingerDist=t.getTouchDist(e).dist,t.startFingerX=t.getTouchDist(e).x,t.startFingerY=t.getTouchDist(e).y)},_touchmove:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=e.targetTouches.length;n==1&&!t.finger&&t._move(e),n>=2&&t._zoom(e)},_touchend:function(e){var t=this;t._changeData(),t.finger&&(t.distX=-t.imgNewX,t.distY=-t.imgNewY),t.distX>0?t.newX=0:t.distX<=0&&t.distX>=-t.width?(t.newX=t.distX,t.newY=t.distY):t.distX<-t.width&&(t.newX=-t.width),t.reset()},_move:function(e){var t=this,n=s(e,"pageX"),r=s(e,"pageY");t.distX=n-t.basePageX+t.newX,t.distY=r-t.basePageY+t.newY,t.distX>0?t.moveX=Math.round(t.distX/t.buffMove):t.distX<=0&&t.distX>=-t.width?t.moveX=t.distX:t.distX<-t.width&&(t.moveX=-t.width+Math.round((t.distX+t.width)/t.buffMove)),t.movePos(),t.finger=!1},_zoom:function(e){var t=this;console.log("zoom");var n=t.getTouchDist(e).dist,r=n/t.startFingerDist,i=Math.round(t.mapX*r),s=Math.round(t.mapY*r);t.imgNewX=Math.round(t.startFingerX*r-t.startFingerX-t.newX*r),t.imgNewY=Math.round((t.startFingerY*r-t.startFingerY)/2-t.newY*r),i>=t.imgBaseWidth?(t.element.style.width=i+"px",t.refresh(-t.imgNewX,-t.imgNewY,"0s","ease"),t.finger=!0):i<t.imgBaseWidth&&(t.element.style.width=t.imgBaseWidth+"px"),t.finger=!0},movePos:function(){var e=this;if(e.height<0)if(e.element.offsetWidth==e.imgBaseWidth)e.moveY=Math.round(e.distY/e.buffMove);else{var t=Math.round((e.element.offsetHeight-e.imgBaseHeight)/2);e.moveY=-t+Math.round((e.distY+t)/e.buffMove)}else{var n=Math.round((e.wrapY-e.imgBaseHeight)/2),r=e.element.offsetHeight-e.wrapY+Math.round(e.wrapY-e.imgBaseHeight)/2;e.distY>=-n?e.moveY=Math.round((e.distY+n)/e.buffMove)-n:e.distY<=-r?e.moveY=Math.round((e.distY+r)/e.buffMove)-r:e.moveY=e.distY}e.refresh(e.moveX,e.moveY,"0s","ease")},reset:function(){var e=this,t=".2s";if(e.height<0)e.newY=-Math.round(e.element.offsetHeight-e.imgBaseHeight)/2;else{var n=Math.round((e.wrapY-e.imgBaseHeight)/2),r=e.element.offsetHeight-e.wrapY+Math.round(e.wrapY-e.imgBaseHeight)/2;e.distY>=-n?e.newY=-n:e.distY<=-r?e.newY=-r:e.newY=e.distY}e.refresh(e.newX,e.newY,t,"ease-in-out")},refresh:function(e,t,n,r){this.element.style.webkitTransitionProperty="-webkit-transform",this.element.style.webkitTransitionDuration=n,this.element.style.webkitTransitionTimingFunction=r,this.element.style.webkitTransform=i(e,t)},getTouchDist:function(e){var t=0,r=0,i=0,s=0,o=0,u=0,a={};t=e.touches[0].pageX,i=e.touches[1].pageX,r=e.touches[0].pageY-n.body.scrollTop,s=e.touches[1].pageY-n.body.scrollTop;if(!t||!i)return;return t<=i?o=(i-t)/2+t:o=(t-i)/2+i,r<=s?u=(s-r)/2+r:u=(r-s)/2+s,a={dist:Math.round(Math.sqrt(Math.pow(t-i,2)+Math.pow(r-s,2))),x:Math.round(o),y:Math.round(u)},a},eventStop:function(e){e.preventDefault(),e.stopPropagation()}},e.ImagesZoom=new o}(this),define("scale",function(){}),define("lazyloading",["$"],function(){$.fn.picLazyLoad=function(e,t){function s(){n.each(function(){var e=$(this);if(e.is("img")){if(e.attr("data-original")){var n=e.offset().top;n-t.threshold<=i+r&&(e.attr("src",e.attr("data-original")),e.removeAttr("data-original"))}}else if(e.attr("data-original")){e.css("background-image")=="none"&&e.css("background-image","url("+t.placeholder+")");var n=e.offset().top;n-t.threshold<=i+r&&(e.css("background-image","url("+e.attr("data-original")+")"),e.removeAttr("data-original"))}})}var n=$(this),r=0,i=$(window).height();t=$.extend({threshold:0,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"},t||{}),s(),e.on("scroll",function(){r=$(window).scrollTop(),s()})}}),function(e,t,n){var r=n(e,t);e.util=e.util||{},e.util.toucher=e.util.toucher||r,e.define&&define("toucher",["require","exports","module"],function(e,t,n){return r})}(this,document,function(e,t){function i(e,t){this._events=this._events||{};if(!this._events[e])return;var n=this._events[e],i=t.target;for(;;){if(n.length==0)return;if(i==this.dom||!i){for(var o=0,u=n.length;o<u;o++){var a=n[o].className,f=n[o].fn;a==null&&s(e,f,i,t)}return}var l=n;n=[];for(var o=0,u=l.length;o<u;o++){var a=l[o].className,f=l[o].fn;if(r(i,a)){if(s(e,f,i,t)==0)return}else n.push(l[o])}i=i.parentNode}}function s(e,t,n,r){var i=r.plugTouches||r.touches,s=i.length?i[0]:{},o={type:e,target:r.target,pageX:s.pageX,pageY:s.pageY,clientX:s.clientX||0,clientY:s.clientY||0};e.match(/^swipe/)&&r.plugStartPosition&&(o.startX=r.plugStartPosition.pageX,o.startY=r.plugStartPosition.pageY,o.moveX=o.pageX-o.startX,o.moveY=o.pageY-o.startY);var u=t.call(n,o);return u==0&&(r.preventDefault(),r.stopPropagation()),u}function o(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function u(e){function d(e){h=!1,clearTimeout(c),clearTimeout(l)}function v(){d(),i.call(t,"singleTap",p)}function m(e){p=e,s=e.touches[0].pageX,u=e.touches[0].pageY,a=0,f=0,h=!0,n=new Date,i.call(t,"swipeStart",e),clearTimeout(c),c=setTimeout(function(){d(e),i.call(t,"longTap",e)},500)}function g(e){e.plugStartPosition=p.plugStartPosition,e.plugTouches=p.touches,i.call(t,"swipeEnd",e);if(!h)return;var n=new Date;!t._events.doubleTap||t._events.doubleTap.length==0?v():n-r>200?l=setTimeout(v,190):(clearTimeout(l),d(e),i.call(t,"doubleTap",p)),r=n}function y(e){p=e,e.plugStartPosition={pageX:s,pageY:u},i.call(t,"swipe",e);if(!h)return;a=e.touches[0].pageX,f=e.touches[0].pageY;if(Math.abs(s-a)>2||Math.abs(u-f)>2){var n=o(s,a,u,f);i.call(t,"swipe"+n,e)}else v();d(e)}var t=this,n=0,r=0,s,u,a,f,l,c,h=!1,p=null;e.addEventListener("touchstart",m),e.addEventListener("MSPointerDown",m),e.addEventListener("pointerdown",m),e.addEventListener("touchend",g),e.addEventListener("MSPointerUp",g),e.addEventListener("pointerup",g),e.addEventListener("touchmove",y),e.addEventListener("MSPointerMove",y),e.addEventListener("pointermove",y),e.addEventListener("touchcancel",d),e.addEventListener("MSPointerCancel",d),e.addEventListener("pointercancel",d)}function a(e,t){var t=t||{};this.dom=e,this._events={},u.call(this,this.dom)}var n=!!t.createElement("div").classList,r=n?function(e,t){return e&&e.classList&&e.classList.contains(t)}:function(e,t){return!e||typeof e.className!="string"?!1:!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))};return a.prototype.on=function(t,n,r){var i,s;typeof n=="string"?(i=n.replace(/^\./,""),s=r):(i=null,s=n);if(typeof s=="function"&&t&&t.length){var o=t.split(/\s+/);for(var u=0,a=o.length;u<a;u++){var f=o[u];this._events[f]||(this._events[f]=[]),this._events[f].push({className:i,fn:s})}}return this},function(e){return new a(e)}}),define("mysilder",["toucher"],function(){var e=function(e,t,n){if(!e||!t)return;if(!t instanceof Array||!t.constructor==Array)return;var r=this;this.$wrapper=e,this.htmlArr=t,this.extentSetting(n),this.initContainer();if(!this.setting.touchDisabled){var i=util.toucher(e[0]);i.on("swipeRight",".slider-item",$.proxy(this,"swipeRight")),i.on("swipeLeft",".slider-item",$.proxy(this,"swipeLeft"))}var s=this.setting.index;s!="0"&&this.transform(r.getDiffWidth(s),r.$wrapper.find(".slider-item").eq(s),function(){r.setting.changeCallback&&r.setting.changeCallback("right",s)}),this.playAuto()};e.prototype={extentSetting:function(e){this.setting=t;if(!e)return;for(var n in t)typeof e[n]!="undefined"&&(this.setting[n]=e[n])},initContainer:function(){var e=this.htmlArr.length,t='<div class="slider-container"><div class="slider-main" style="width:'+e*100+'%;">',n='<div class="default-nav"><div class="nav-main">';this.itemWidth=1/e;var r=this.itemWidth*100+"%";for(var i=0;i<e;i++){var s="";i==0&&(s="now"),t+='<div class="slider-item '+s+'" style="width:'+r+'">'+this.htmlArr[i]+"</div>",n+='<span class="'+s+'"></span>'}t+="</div>",this.setting.showNav&&e>1&&(n+="</div></div>",t+=n),t+="</div>",this.$wrapper.html(t)},swipeLeft:function(e){var t=e.target,n;t.nodeName=="IMG"?n=$(t).parent():n=$(e.target);var r=n.index(),i=this;if(r==n.siblings().length)return;this.transform(i.getDiffWidth(r+1),n.next(),function(){i.setting.changeCallback&&i.setting.changeCallback("right",r+1),i.playAuto(),i.setting.showNav})},swipeRight:function(e){var t=e.target,n;t.nodeName=="IMG"?n=$(t).parent():n=$(e.target);var r=n.index(),i=this;if(r==0)return;i.transform(i.getDiffWidth(r-1),n.prev(),function(){i.setting.changeCallback&&i.setting.changeCallback("left",r-1),i.playAuto()})},playAuto:function(){clearInterval(this.timeInterval);var e=this;this.setting.autoPlay&&(this.timeInterval=window.setInterval(function(){var t=e.$wrapper.find(".slider-main"),n=t.find(".now"),r=n.index();r==t.children().length-1?n=t.children().eq(0):n=n.next(),r=n.index(),e.transform(e.getDiffWidth(r),n,function(){e.setting.changeCallback&&e.setting.changeCallback("right",r)})},this.setting.interval))},transform:function(e,t,n){t.addClass("now").siblings().removeClass("now"),this.$wrapper.find(".slider-main").css({"-webkit-transform":"translateX(-"+e+") translateZ(0)","-webkit-transition":"500ms ease-out"}),n&&n();var r=t.index();this.setting.showNav&&this.$wrapper.find(".nav-main span").eq(r).addClass("now").siblings().removeClass("now")},getDiffWidth:function(e){return this.itemWidth*e*100+"%"}};var t={touchDisabled:!1,interval:2e3,autoPlay:!0,showNav:!0,changeCallback:null,index:0};return e}),define("base",["$","fastclick"],function(){FastClick.attach(document.body);var e=function(e){var t=window.location.href,n=/(\d+)\.(\d+)\.(\d+)\.(\d+)/;this.isFromApp=t.indexOf("hisihi-app")>=0,this.isLocal=!1;if(n.test(t)||t.indexOf("localhost")>=0)this.isLocal=!0;this.deviceType=this.operationType(),this.staticUserNameStr="jg2rw2xVjyrgbrZp",this.userInfo={token:"",session_id:null,name:this.staticUserNameStr},this.statisticToken,this.timeOutFlag=!1,this.extentSetting(e),this._initTimeFormat(),this._initStringExtentFn(),this._addTip(),this._addLoadingImg(),this._addDownloadBar(e)};e.prototype={extentSetting:function(e){this.config=t;if(!e)return;for(var n in t){var r=e[n];r!="undefined"&&(typeof r=="object"?this.config[n]=this.extentSettingSub(this.config[n],r):this.config[n]=r)}},extentSettingSub:function(e,t){for(var n in e)typeof t[n]!="undefined"&&(e[n]=t[n]);return e},getUserInfo:function(e,t){var n="",r=this;if(this.deviceType.mobile){this.deviceType.android?typeof AppFunction!="undefined"&&(n=AppFunction.getUser()):this.deviceType.ios&&typeof getUser_iOS!="undefined"&&(n=getUser_iOS());if(n!="")this.userInfo=JSON.parse(n),this.userInfo.token=this.getBase64encode(this.userInfo.token),e&&e.call(r);else{if(t==0||t===undefined){var i={url:this.baseUrl+"user/login",type:"get",async:!1,paraData:{username:"13554154325",password:"12345678",type:3,client:4},sCallback:function(t){r.userInfo=t,e&&e.call(r)},eCallback:function(){e&&e.call(r)}};r.isLocal?this.getDataAsync(i):e&&e.call(r);return}var s={account:"18140662282",secret:"954957945",type:200};t==1&&(s={account:r.staticUserNameStr,secret:"VbkzpPlZ6H4OvqJW",type:100}),r.getBasicToken({account:s.account,secret:s.secret,type:s.type},!1,function(t){r.userInfo.token=t,r.userInfo.name=s.account,e&&e.call(r,r.userInfo),s.account==r.staticUserNameStr&&(r.statisticToken=t)})}}else e&&e.call(r)},getDataAsync:function(e){e.type||(e.type="post"),e.async==undefined&&(e.async=!0);if(!e.url)return;if(!e.url)return;var t=this,n=$.ajax({url:e.url,async:e.async,type:e.type,data:e.paraData,timeout:1e5,contentType:"application/json",complete:function(t,r){if(r=="success"){var i=t.responseText,s={};i?s=JSON.parse(i):s.status=!1;if(s.success)e.sCallback(JSON.parse(t.responseText));else{var o=s.message,u=s.error_code;o.indexOf("")>=0&&(o=""),e.eCallback&&e.eCallback({code:u,txt:o})}}else r=="timeout"?(n.abort(),e.eCallback&&e.eCallback({code:"408",txt:""})):(e.eCallback&&e.eCallback({code:"404",txt:"no found"}),n.abort())}})},getDataAsyncPy:function(e){e.type||(e.type="post"),e.async==undefined&&(e.async=!0);var t=this,n=$.ajax({async:e.async,url:e.url,type:e.type,data:e.paraData,timeout:5e4,contentType:"application/json",beforeSend:function(t){e.needToken&&t.setRequestHeader("Authorization",e.token)},complete:function(t,r){var i=t.responseText,s={};i?s=JSON.parse(t.responseText):s.code=0,r=="success"?e.sCallback(s):r=="timeout"?(n.abort(),e.eCallback&&e.eCallback({code:"408",txt:""})):(s||(s={code:"404",txt:"no found"}),e.eCallback&&e.eCallback(s))}})},getBasicToken:function(e,t,n){var r=this,i={async:t,url:window.hisihiUrlObj.api_url+"/v1/token",type:"post",paraData:JSON.stringify({account:e.account,secret:e.secret,type:e.type}),sCallback:function(e){var t=r.getBase64encode(e.token);n&&n.call(r,t)},eCallback:function(e){r.showTips(e.txt)}};this.getDataAsyncPy(i)},updateStatisticsNum:function(e){var t=this.statisticToken,n=this,r={url:window.hisihiUrlObj.statis_url+"bootstrap",paraData:JSON.stringify({data:[{type:e}]}),needToken:!0,token:t,sCallback:function(){},eCallback:function(){}};t?n.getDataAsyncPy(r):this.getBasicToken({account:this.staticUserNameStr,secret:"VbkzpPlZ6H4OvqJW",type:100},!0,function(e){r.token=e,n.getDataAsyncPy(r)})},substrLongStr:function(e,t){return e.length>t&&(e=e.substr(0,parseInt(t-1))+""),e},getTimeFromTimestamp:function(e,t){return t||(t="yyyy-MM-dd"),(new Date(parseFloat(e)*1e3)).format(t)},_initTimeFormat:function(){Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)(new RegExp("("+n+")")).test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length==1?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},_initStringExtentFn:function(){String.prototype.substrLongStr=function(){var e=this;return this.length>len&&(e=this.substr(0,parseInt(len-1))+""),e},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}},getDiffTime:function(e,t){if(e){e=new Date(parseFloat(e)*1e3);var n=6e4,r=n*60,i=r*24,s=new Date,o=s-e,u="";if(o<0)return u;var a=o/(7*i),f=o/i,l=o/r,c=o/n;if(a>=1){var h="MM-dd hh:mm";return t&&(h="yyyy-MM-dd hh:mm"),e.format(h)}if(f==1||l<24&&e.getDate()!=s.getDate())return u=""+e.getHours()+":"+e.getMinutes(),u;if(f>1){var h="MM-dd hh:mm";return t&&(h="yyyy-MM-dd hh:mm"),e.format(h)}return l>=1?(u=parseInt(l)+"",u):c>=1?(u=parseInt(c)+"",u):(u="",u)}return""},operationType:function(){var e=navigator.userAgent,t=navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1}},writeInfoToStorage:function(e){var t=window.localStorage;t.setItem(e.key,e.val)},getInfoFromStorage:function(e){var t=window.localStorage,n=t.getItem(e);return n?n:!1},_addLoadingImg:function(){if($("#loading-data").length>0)return;var e='<div id="loading-data" style="display: none;"><img class="loding-img"  src="http://pic.hisihi.com/2016-05-11/1462946331132960.png"></div>';$("body").append(e)},controlLoadingBox:function(e){var t=$("#loading-data"),n=t.find("img");e?t.addClass("active").show():t.removeClass("active").hide()},_addTip:function(){if($("#result-tips").length>0)return;var e='<div id="result-tips" class="result-tips" style="display: none;"><p></p></div>';$("body").append(e)},showTips:function(e,t){if(this.timeOutFlag)return;t=t||1500,e.indexOf("<")<0&&(e="<p>"+e+"</p>"),this.timeOutFlag=!0;var n=$("body").find(".result-tips"),r=this;n.html(e).show(),window.setTimeout(function(){n.hide().html(""),r.timeOutFlag=!1},t)},showTipsNoHide:function(e,t){if(this.timeOutFlag)return;this.timeOutFlag=!0;var n=$("body").find(".result-tips"),r=n.find("p").text(e),i=this;t&&n.html(t),n.show()},hideTips:function(){var e=$("body").find(".result-tips"),t=e.find("p"),n=this;e.hide(),t.text(""),this.timeOutFlag=!1},getBase64encode:function(e){e+=":";var t,n,r,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s,o,u;r=e.length,n=0,t="";while(n<r){s=e.charCodeAt(n++)&255;if(n==r){t+=i.charAt(s>>2),t+=i.charAt((s&3)<<4),t+="==";break}o=e.charCodeAt(n++);if(n==r){t+=i.charAt(s>>2),t+=i.charAt((s&3)<<4|(o&240)>>4),t+=i.charAt((o&15)<<2),t+="=";break}u=e.charCodeAt(n++),t+=i.charAt(s>>2),t+=i.charAt((s&3)<<4|(o&240)>>4),t+=i.charAt((o&15)<<2|(u&192)>>6),t+=i.charAt(u&63)}return"basic "+t},doLogin:function(){this.isFromApp&&(this.deviceType.android?typeof AppFunction!="undefined"&&AppFunction.login():typeof showLoginView!="undefined"&&showLoginView())},setFootStyle:function(e){e||(e=$(".wrapper"));var t=$("#downloadCon"),n=$(document).width(),r=n*120/750;return n>750&&(r=113),t.css({height:r+"px",opacity:1}),e.css({"margin-bottom":r+"px"}),r},_addDownloadBar:function(){var e=this.config.downloadBar;if(e.show&&!this.isFromApp){var t="bottom:0",n={"padding-bottom":e.height};e.pos||(t="top:0",n={"padding-top":e.height});var r='<div id="downloadCon-new" style="'+t+";background-color:"+e.backgroundColor+'">'+'<img src="'+e.logo+'" class="allDownImg" />'+'<div class="words">'+'<div class="title">'+"<label>"+e.title+"</label>"+'<span class="stars">'+'<img src="'+e.starImg+'">'+'<img src="'+e.starImg+'">'+'<img src="'+e.starImg+'">'+'<img src="'+e.starImg+'">'+'<img src="'+e.starImg+'">'+"</span>"+"</div>"+"<p>"+e.description+"</p>"+"</div>"+'<a id="download" style="background-color:'+e.btnBgColor+'" href="http://www.hisihi.com/download.php">'+e.downloadBtnWord+"</a>"+"</div>";$("body").append(r).css(n)}},scrollControl:function(e,t){e?($("html,body").removeClass("noscroll"),window.scrollTo(0,this.scrollTop)):(t=t||$("body"),this.scrollTop=t.scrollTop(),$("html,body").addClass("noscroll"))}};var t={downloadBar:{show:!1,pos:1,title:"",description:"",logo:"http://pic.hisihi.com/2016-08-04/1470283879133258.png",starImg:"http://pic.hisihi.com/2016-08-04/1470283927495292.png",downloadBtnWord:"",btnBgColor:"#FF5A00",backgroundColor:"#9E9A98",height:"56px"}};return e}),define("home",["base","mysilder","lazyloading","scale"],function(e,t){function n(e,t,n){this.$wrapper=e;var r=this;this.baseUrl=n,this.oid=t;var i="click",r=this;this.isLocal&&(this.baseUrl=this.baseUrl.replace("api.php","hisihi-cms/api.php")),this.perPageSize=10,this.pageIndex=1,this.async=!1,this.controlLoadingBox(!0),window.setTimeout(function(){r.initData()},100),$(document).on(i,".pics-preview-box li",$.proxy(this,"showPicsAndVideoDetailInfo")),$(document).on(i,".works-preview-box li",$.proxy(this,"showWorksPicsDetailInfo")),$(document).on(i,".view-pics-box",function(){event.stopPropagation(),event.target==this&&($(".modal").removeClass("show"),r.scrollControl(!0))}),$(document).on(i,".coupon-box li, .t-video-box li,.name-main-box img",function(){window.location.href="http://www.hisihi.com/download.php"}),$(document).on(i,".video-modal",function(){event.stopPropagation(),event.target==this&&($(".modal").removeClass("show"),r.scrollControl(!0),r.myPlayer.pause())}),$(window).on("scroll",$.proxy(this,"scrollContainer")),$(document).on("input","#user-name, #phone-num",$.proxy(this,"singInBtnControl")),$(document).on(i,".sing-in-box .active",$.proxy(this,"singIn")),$(document).on(i,".sing-in",$.proxy(this,"showSingInModal")),$(document).on(i,".close-sing-in",$.proxy(this,"closeSingInBox"))}var r={downloadBar:{show:!0,pos:0}};n.prototype=new e(r),n.constructor=n;var i=n.prototype;return i.initData=function(){this.loadBasicInfoData(),this.loadTopAnnouncement(),this.loadSignUpInfo(),this.loadCouponInfo(),this.loadVideo(),this.loadMyTeachersInfo(),this.loadTeachingVideoInfo(),this.loadWorksInfo(),this.loadGroupsInfo(),this.loadMyCompresAsseinfo(),this.loadDetailCommentInfo(1),$("#wrapper,#footer").show(),this.controlLoadingBox(!1),this.initVideoPlayer(),$(".lazy-img").picLazyLoad($(window),{threshold:150})},i.initVideoPlayer=function(){var e=this;videojs("video-player").ready(function(){e.myPlayer=this})},i.resetVideoPlayerUrl=function(e,t){this.myPlayer||this.initVideoPlayer(),this.myPlayer.src({type:"application/x-mpegURL",src:e}),t||(t="http://pic.hisihi.com/hisihi_home_pic/video_cover.png"),this.myPlayer.poster(t),$(".modal").eq(0).addClass("show")},i.loadBasicInfoData=function(){var e=this,t=e.$wrapper.find(".logoAndCertInfo"),n={url:this.baseUrl+"appGetBaseInfo",paraData:{organization_id:this.oid,version:2.95},sCallback:$.proxy(this,"fillInBasicInfoData"),eCallback:function(){$(".contact a").attr("href","javacript:void(0)").css("opacity","0.3")},type:"get",async:this.async};this.getDataAsync(n)},i.fillInBasicInfoData=function(e){$(".logo-box").show();var t=e.data,n=t.logo;this.deviceType.android&&(n=window.hisihiUrlObj.image+"/orgbasicinfo/blur.jpg");var r=t.name;r.length>10&&(r=r.substr(0,9)+" ");var i=$(".logo-box");i.find("#filter-logo").attr("src",n),i.find("#logo").attr("src",t.logo),i.find(".name-main-box label").text(t.name),this.setCertInfo(t.authenticationInfo);var s=i.find(".user-number-box label");s.eq(0).text(this.translationCount(t.view_count)),s.eq(1).text(this.translationCount(t.followCount)),t.introduce&&$(".my-introduce").text(t.introduce).parent().show(),t.location&&$(".my-location").text(t.location).parent().show();if(t.advantage){var o=t.advantage.split("#"),u="";for(var a=0;a<o.length;a++)u+="<li>"+o[a]+"</li>";$(".my-tags").html(u).parent().show()}$(".contact a").attr("href","tel:"+t.phone_num)},i.translationCount=function(e){e=parseInt(e);if(e>9999){e/=1e4;if(e%1e4!=0){e=e.toString();var t=e.indexOf(".");e=e.substr(0,t+2);var n=e.split(".");n[1]==0&&(e=n[0])}e+="w"}return e},i.setCertInfo=function(e){if(!e||e.length==0)return;var t="",n="",r=e.length,i;for(var s=0;s<r;s++){i=e[s];if(i.default_display=="1"){if(i.hisihi_add_v&&i.hisihi_add_v==1){$(".v-cert").show();continue}n=i.tag_pic_url,t+='<img src="'+n+'">'}}$(".cert-box").html(t)},i.loadCouponInfo=function(){var e=this;this.getDataAsync({url:this.baseUrl+"getPromotionCouponList",paraData:{organization_id:this.oid,version:2.95},sCallback:function(t){e.fillInCouponInfo(t)},eCallback:function(e){},type:"get",async:this.async})},i.fillInCouponInfo=function(e){if(!e||e.list.length==0)return;var t=e.list,n=t.length,r="",i;for(var s=0;s<n;s++){i=t[s];if(i.is_out_of_date)continue;r+='<li><div class="coupon-header">'+i.money+"</div>"+'<div class="coupon-bottom">'+"<p>"+i.course_name+"</p>"+"</div>"+"</li>"}$(".coupon-box").show().find("ul").html(r)},i.loadTopAnnouncement=function(){var e=this;this.getDataAsyncPy({url:window.hisihiUrlObj.apiUrlPy+"v1/org/"+this.oid+"/news",sCallback:function(t){e.fillInTopAnnouncement(t)},eCallback:function(e){},type:"get",async:this.async})},i.fillInTopAnnouncement=function(e){if(!e||!e.news||e.news.length==0)return;var t="",n,r=e.news,i=$(".news-box");i.show();var s=r.length;for(var o=0;o<s;o++)o<2&&(n=r[o],t+='<a href="'+n.detail_url+'"><p>'+n.title+"</p></a>");i.find(".right-item div").html(t)},i.scrollSingInInfo=function(){var e=$(".sing-in-detail-box"),t=e.find("p"),n=40,r=t.length,i=-n+"px",s={"margin-top":i,"-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)",opacity:"0.7"};window.setInterval(function(){e.animate(s,500,"ease-out",function(){e.find("p").eq(0).appendTo(e),e.css({marginTop:0,opacity:"1"})})},2500)},i.loadSignUpInfo=function(){var e=this;this.getDataAsync({url:this.baseUrl+"enrollList",paraData:{organization_id:this.oid,type:"all"},sCallback:function(t){e.fillInSignUpInfo(t.data)},eCallback:function(e){},type:"get",async:this.async})},i.fillInSignUpInfo=function(e){var t="",n,r=!e||e.length==0;if(r)return;var i=e.length;for(var s=0;s<i;s++){n=e[s];var o=(new Date(n.create_time*1e3)).format("yyyy-MM-dd");t+="<p><span>"+n.student_name+"</span>  "+o+" </p>"}$(".sing-in-box").show().find(".sing-in-detail-box").html(t),e.length>1&&this.scrollSingInInfo()},i.loadVideo=function(){var e=this;this.getDataAsync({url:this.baseUrl+"getPropagandaVideo",paraData:{organization_id:this.oid,count:8},sCallback:function(t){var n=e.getVideoStr([t.data]);e.loadPics(n)},eCallback:function(e){},type:"get",async:this.async})},i.loadPics=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"appGetOrganizationEnvironment",paraData:{organization_id:this.oid,count:8},sCallback:function(n){var r=t.getPicsStr(n.data,!0),i=e+r;i!=""&&$(".pics-box").show().find(".pics-preview-box ul").html(e+r)},eCallback:function(e){},type:"get",async:this.async})},i.getPicsStr=function(e,t){var n=$(".pics-number label").eq(1);if(!e||e.length==0)return"";var r=e.length,i="";t&&n.text(r+"").css("display","inline");for(var s=0;s<r;s++)i+='<li class="li-img" data-id="'+e[s].id+'">'+'<div class="img-box">'+'<div class="img-main-box">'+'<img class="lazy-img" data-original="'+e[s].url+'">'+"</div>"+"</div>"+"</li>";return i},i.getVideoStr=function(e,t){if(!e||e.length==0)return;var n=e.length,r="",i,s="",o=$(".pics-number label").eq(0);if(t){var u=$("body").width()*7/16;s="height:"+u+"px;"}else{if(!e[0].video_url)return o.hide(),"";o.text(n+"").show(),$(".name-main-box img").css("display","inline-block")}for(var a=0;a<n;a++)i=e[a],i.video_img=i.video_img||i.img||"",i.video_url=i.video_url||"",r+='<li data-url="'+i.video_url+'" style='+s+">"+'<img class="lazy-img" data-original="'+i.video_img+'">'+'<span class="p-btn"><i class="icon-play"></i></span>'+"</li>";return r},i.showPicsAndVideoDetailInfo=function(e){var t=$(e.currentTarget);if(t.hasClass("li-img")){var n=$(".pics-preview-box .li-img").index(t),r=i.getAllPics(t.parent());$(".modal").eq(1).addClass("show").find(".pics-nav span").text(n+1+"/"+r.length),this.initPicsScroll(r,n)}else{var s=t.data("url"),o=this;if(!s){this.showTips("");return}this.resetVideoPlayerUrl(t.data("url"),t.find("img").attr("src"))}this.scrollControl(!1)},i.getAllPics=function(e){var t=[];return e.find(".li-img").each(function(){t.push($(this).find("img").attr("src"))}),t},i.initPicsScroll=function(e,n){n=="undefined"&&n==0;var r=this.getItemStr(e),i=$(".pics-nav span"),s=i.text().split("/")[1];$("#filter-img").attr("src",e[n]),new t($(".view-pics-box"),r,{autoPlay:!1,showNav:!1,index:n,changeCallback:function(t,n){i.text(n+1+"/"+s),$("#filter-img").attr("src",e[n])}});var o=document.querySelectorAll(".view-pics-box .show-origin-pic");ImagesZoom.init({elem:".view-pics-box",btnsList:o,initCallback:function(e){$(e).hide().parent().find("img").hide(),$(".pics-nav label").hide()},closeCallback:function(){$(".view-pics-box .now img").show(),$(".pics-nav label").show();for(var e=o.length,t=0;t<e;t++)$(o[t]).show()}})},i.getItemStr=function(e){var t=e.length,n=[];for(var r=0;r<t;r++){var i=e[r];n.push('<img  src="'+i+'"><div class="show-origin-pic"></div>')}return n},i.loadMyTeachersInfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"appGetTeacherList",paraData:{organization_id:this.oid},sCallback:function(e){t.fillMyTeachersInfo(e.teacherList)},eCallback:function(e){},type:"get",async:this.async})},i.fillMyTeachersInfo=function(e){var t="",n;if(!e||e.length==0)return;var r=e.length;for(var i=0;i<r;i++)n=e[i].info,t+='<li><img src="'+n.avatar128+'"><p>'+n.nickname+"</p></li>";$(".teachers-box").show(),$(".teachers-detail").html(t)},i.loadTeachingVideoInfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"appGetCoursesList",paraData:{organization_id:this.oid},sCallback:function(e){t.fillInTeachingVideo(e)},eCallback:function(t){$target.css("opacity",1),$target.find(".loadErrorCon").show().find("a").text("").show(),e()},type:"get",async:this.async})},i.fillInTeachingVideo=function(e){if(!e||e.coursesList.length==0)return;var t=$(".t-video-box").show(),n=this.getVideoStr(e.coursesList,!0);t.find(".basic-header span").html("("+e.coursesList.length+")"),t.find("ul").html(n)},i.showTeachingVideo=function(e){this.showTips("App")},i.loadWorksInfo=function(){var e=this;this.getDataAsync({url:this.baseUrl+"appGetStudentWorks",paraData:{organization_id:this.oid,count:8,version:2.9},sCallback:function(t){e.fillWorksInfo(t)},eCallback:function(e){},type:"get",async:this.async})},i.fillWorksInfo=function(e){if(!e||!e.data||e.data.length==0)return;var t=$(".works-box").show(),n=e.data,r=n.length,i=this.getPicsStr(e.data,!1);t.find("ul").html(i)},i.showWorksPicsDetailInfo=function(e){var t=$(e.currentTarget);if(t.hasClass("li-img")){var n=$(".works-preview-box .li-img").index(t),r=i.getAllPics(t.parent());$(".modal").eq(1).addClass("show").find(".pics-nav span").text(n+1+"/"+r.length),this.scrollControl(!1),this.initPicsScroll(r,n)}},i.loadGroupsInfo=function(){var e=this;this.getDataAsyncPy({url:window.hisihiUrlObj.apiUrlPy+"/v1/im/org/"+this.oid+"/groups",paraData:{per_page:1},sCallback:function(t){e.filInGroupsInfo(t)},eCallback:function(e){},type:"get",async:this.async})},i.filInGroupsInfo=function(e){if(!e||e.data.length==0)return;var t=$(".groups-box").show(),n=e.data[0],r='<div class="left"><img src="'+n.group_avatar+'">'+"</div>"+'<div class="right">'+"<p>"+n.group_name+"</p>"+"</div>";t.find(".groups-detail-box").html(r)},i.loadMyCompresAsseinfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"fractionalStatistics",paraData:{organization_id:this.oid},sCallback:function(e){t.fillMyCompresAsseInfo(e)},eCallback:function(e){},type:"get",async:this.async})},i.fillMyCompresAsseInfo=function(e){var t=e.data;if(!t||t.length==0)return;var n="",r=this,i,s=$(".assessmentDetail li"),o=this.getStarInfoByScore(e.comprehensiveScore),u=e.comprehensiveScore;u.toString().indexOf(".")<0&&(u=parseInt(u)+".0"),$("#myAssessment").text(u),$("#starsConForCompress").prepend(o);for(var a=0;a<t.length;a++)i=t[a],s.each(function(){var e=$(this),t=r.getStarInfoByScore(i.score);if(e.find(".title").text()==i.value)return e.find(".stars-block").html(t),!1})},i.loadDetailCommentInfo=function(e,t){var n=this;this.getDataAsync({url:this.baseUrl+"commentList",paraData:{organization_id:this.oid,page:e,count:n.perPageSize},sCallback:function(e){n.pageSize=Math.ceil((e.totalCount|0)/n.perPageSize),$("#commentNum").text(e.totalCount),n.fillDetailCommentInfo(e),t&&t.call(n)},eCallback:function(e){},type:"get",async:this.async})},i.fillDetailCommentInfo=function(e){var t=e.data,n="";if(!t||t.length==0){$(".studentCommentDetail .nodata").show();return}var r=t.length,i,s,o;for(var u=0;u<r;u++)i=t[u],s=i.userInfo,o=this.getDiffTime(i.create_time,!0),o.indexOf("-")>=0&&(o=o.split(" ")[0]),n+='<li><div class="imgCon"><div><img src="'+s.avatar128+'"/></div>'+"</div>"+'<div class="commentCon">'+'<div class="commentHead">'+'<span class="commentNickname">'+s.nickname+"</span>"+'<span class="rightItem starsCon">'+this.getStarInfoByScore(i.comprehensive_score|0)+"</span>"+"</div>"+'<p class="content">'+i.comment+"</p>"+'<div class="publicTime">'+o+"</div>"+"</div>"+"</li>";$(".studentCommentDetail").append(n)},i.scrollContainer=function(){var e=$("body"),t=e[0].scrollHeight-$(window).height(),n=e.scrollTop();if(n>=t-320&&!e.hasClass("loading")){var r=this.pageIndex+1;if(r>this.pageSize)return;e.addClass("loading"),this.loadDetailCommentInfo(r,function(){e.removeClass("loading"),this.pageIndex++})}},i.getStarInfoByScore=function(e){e.toString().indexOf(".")>0&&(e=this.myRoundNumber(e));var t="",n=Math.floor(e),r=Math.ceil(e),i=r==n?0:1,s=5-r;for(var o=0;o<n;o++)t+="<i></i>";i==1&&(t+='<i class="half"></i>');for(var o=0;o<s;o++)t+='<i class="none"></i>';return t},i.myRoundNumber=function(e){e=e.toFixed(1);var t=e.split("."),n=t[0],r=t[1];if(r!=0){var i=r<=2,s=r>=7;return i?n|0:s?parseInt(n)+1:parseInt(n)+.5}},i.showSingInModal=function(){$(".sing-in-modal").addClass("show"),$(".sing-in-item input").eq(0).val()&&$(".sing-in-btn").addClass("active"),this.scrollControl(!1)},i.singInBtnControl=function(e){var t=$(".sing-in-item input"),n=t.eq(0).val().trim(),r=$(".sing-in-btn"),i="active";n?r.addClass(i):r.removeClass(i)},i.singIn=function(){var e=$(".sing-in-item input"),t=this,n=e.eq(0).val().trim(),r=e.eq(1).val().trim(),i=/^1\d{10}$/;if(!i.test(n)){this.showTips("");return}this.controlLoadingBox(!0),this.getDataAsync({url:this.baseUrl+"yuyue/organization_id/"+this.oid+"/mobile/"+n+"/username/"+r,sCallback:function(e){t.controlLoadingBox(!1),e.success?($(".sing-in-modal .tips").css("opacity","1"),t.showTips("")):t.showTips("")},eCallback:function(e){t.controlLoadingBox(!1);var n="";e.code==-2&&(n=""),t.showTips(n)},type:"get"})},i.closeSingInBox=function(){$(".sing-in-modal").removeClass("show"),this.scrollControl(!0)},n}),requirejs.config({baseUrl:window.hisihiUrlObj.js,paths:{$:"../sharecommon/zepto.min",fx:"../sharecommon/fx_v1.1",prefixfree:"../sharecommon/prefixfree.min",async:"../sharecommon/async.min",base:"../sharecommon/base-1.1",fastclick:"../sharecommon/fastclick",lazyloading:"../sharecommon/lazyloading",scale:"../hiworks/scale",toucher:"2.9.5/toucher",mysilder:"../sharecommon/myslider",home:"2.9.5/orgbasicinfo"},shim:{$:{output:"$"},async:{output:"async"},prefixfree:{output:"prefixfree"},fastclick:{output:"fastclick"},scale:{output:"scale"},toucher:{output:"toucher"}}}),require(["home","prefixfree"],function(e){var t=window.location.href;t.indexOf("%2F")>0&&(t=t.replace(/\%2F/g,"/"));var n=/organization_id\/[1-9][0-9]*/g,r=t.match(n)[0].toString().replace(/organization_id\//g,"");window.orgBasicInfo=new e($("#wrapper"),r,window.hisihiUrlObj.apiUrl)}),define("config",function(){});