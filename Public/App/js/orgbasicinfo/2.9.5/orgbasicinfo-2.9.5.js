/*! Zepto 1.1.6 (generated with Zepto Builder) - zepto event ajax form ie fx fx_methods selector touch assets - zeptojs.com/license */

//     (c) 2010-2016 Thomas Fuchs

//     Zepto.js may be freely distributed under the MIT license.

/**
 * StyleFix 1.0.3 & PrefixFree 1.0.7
 * @author Lea Verou
 * MIT license
 */

/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.0
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */

/*! PhotoSwipe - v4.1.0 - 2015-07-11
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */

/*! PhotoSwipe Default UI - 4.1.0 - 2015-07-11
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */

function FastClick(e){"use strict";function n(e,t){return function(){return e.apply(t,arguments)}}var t;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e;if(FastClick.notNeeded(e))return;deviceIsAndroid&&(e.addEventListener("mouseover",n(this.onMouse,this),!0),e.addEventListener("mousedown",n(this.onMouse,this),!0),e.addEventListener("mouseup",n(this.onMouse,this),!0)),e.addEventListener("click",n(this.onClick,this),!0),e.addEventListener("touchstart",n(this.onTouchStart,this),!1),e.addEventListener("touchmove",n(this.onTouchMove,this),!1),e.addEventListener("touchend",n(this.onTouchEnd,this),!1),e.addEventListener("touchcancel",n(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;t==="click"?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;t==="click"?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),typeof e.onclick=="function"&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null)}var Zepto=function(){function e(e){return null==e?String(e):J[K.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function s(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e){return"number"==typeof e.length}function u(e){return O.call(e,function(e){return null!=e})}function a(e){return e.length>0?T.fn.concat.apply([],e):e}function f(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e){return e in P?P[e]:P[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function c(e,t){return"number"!=typeof t||H[f(e)]?t:t+"px"}function h(e){var t,n;return D[e]||(t=_.createElement(e),_.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),D[e]=n),D[e]}function p(e){return"children"in e?M.call(e.children):T.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function d(e,t){var n,r=e?e.length:0;for(n=0;r>n;n++)this[n]=e[n];this.length=r,this.selector=t||""}function v(e,t,n){for(x in t)n&&(s(t[x])||Z(t[x]))?(s(t[x])&&!s(e[x])&&(e[x]={}),Z(t[x])&&!Z(e[x])&&(e[x]=[]),v(e[x],t[x],n)):t[x]!==S&&(e[x]=t[x])}function m(e,t){return null==t?T(e):T(e).filter(t)}function g(e,n,r,i){return t(n)?n.call(e,r,i):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className||"",r=n&&n.baseVal!==S;return t===S?r?n.baseVal:n:void (r?n.baseVal=t:e.className=t)}function w(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?T.parseJSON(e):e):e}catch(t){return e}}function E(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)E(e.childNodes[n],t)}var S,x,T,N,C,k,L=[],A=L.concat,O=L.filter,M=L.slice,_=window.document,D={},P={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},B=/^\s*<(\w+|!)[^>]*>/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,I=/^(?:body|html)$/i,q=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],U=["after","prepend","before","append"],z=_.createElement("table"),W=_.createElement("tr"),X={tr:_.createElement("tbody"),tbody:z,thead:z,tfoot:z,td:W,th:W,"*":_.createElement("div")},V=/complete|loaded|interactive/,$=/^[\w-]*$/,J={},K=J.toString,Q={},G=_.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return Q.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=G).appendChild(e),r=~Q.qsa(i,t).indexOf(e),s&&G.removeChild(e),r},C=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},k=function(e){return O.call(e,function(t,n){return e.indexOf(t)==n})},Q.fragment=function(e,t,n){var r,i,o;return j.test(e)&&(r=T(_.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(F,"<$1></$2>")),t===S&&(t=B.test(e)&&RegExp.$1),t in X||(t="*"),o=X[t],o.innerHTML=""+e,r=T.each(M.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(i=T(r),T.each(n,function(e,t){R.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},Q.Z=function(e,t){return new d(e,t)},Q.isZ=function(e){return e instanceof Q.Z},Q.init=function(e,n){var r;if(!e)return Q.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&B.test(e))r=Q.fragment(e,RegExp.$1,n),e=null;else{if(n!==S)return T(n).find(e);r=Q.qsa(_,e)}else{if(t(e))return T(_).ready(e);if(Q.isZ(e))return e;if(Z(e))r=u(e);else if(i(e))r=[e],e=null;else if(B.test(e))r=Q.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==S)return T(n).find(e);r=Q.qsa(_,e)}}return Q.Z(r,e)},T=function(e,t){return Q.init(e,t)},T.extend=function(e){var t,n=M.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){v(e,n,t)}),e},Q.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],s=r||i?t.slice(1):t,o=$.test(s);return e.getElementById&&o&&r?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:M.call(o&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},T.contains=_.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},T.type=e,T.isFunction=t,T.isWindow=n,T.isArray=Z,T.isPlainObject=s,T.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},T.inArray=function(e,t,n){return L.indexOf.call(t,e,n)},T.camelCase=C,T.trim=function(e){return null==e?"":String.prototype.trim.call(e)},T.uuid=0,T.support={},T.expr={},T.noop=function(){},T.map=function(e,t){var n,r,i,s=[];if(o(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&s.push(n);else for(i in e)n=t(e[i],i),null!=n&&s.push(n);return a(s)},T.each=function(e,t){var n,r;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},T.grep=function(e,t){return O.call(e,t)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),T.fn={constructor:Q.Z,length:0,forEach:L.forEach,reduce:L.reduce,push:L.push,sort:L.sort,splice:L.splice,indexOf:L.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Q.isZ(t)?t.toArray():t;return A.apply(Q.isZ(this)?this.toArray():this,n)},map:function(e){return T(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return T(M.apply(this,arguments))},ready:function(e){return V.test(_.readyState)&&_.body?e(T):_.addEventListener("DOMContentLoaded",function(){e(T)},!1),this},get:function(e){return e===S?M.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return L.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):T(O.call(this,function(t){return Q.matches(t,e)}))},add:function(e,t){return T(k(this.concat(T(e,t))))},is:function(e){return this.length>0&&Q.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==S)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):o(e)&&t(e.item)?M.call(e):T(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return T(n)},has:function(e){return this.filter(function(){return i(e)?T.contains(this,e):T(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:T(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:T(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?T(e).filter(function(){var e=this;return L.some.call(n,function(t){return T.contains(t,e)})}):1==this.length?T(Q.qsa(this[0],e)):this.map(function(){return Q.qsa(this,e)}):T()},closest:function(e,t){var n=this[0],i=!1;for("object"==typeof e&&(i=T(e));n&&!(i?i.indexOf(n)>=0:Q.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return T(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=T.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(k(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||M.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return O.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return T.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=T(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){T(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){T(this[0]).before(e=T(e));for(var t;(t=e.children()).length;)e=t.first();T(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=T(this),i=r.contents(),s=n?e.call(this,t):e;i.length?i.wrapAll(s):r.append(s)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=T(this);(e===S?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return T(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return T(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;T(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for(x in e)y(this,x,e[x]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:S},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=Y[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(q,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?w(r):S},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=T(this),r=g(this,e,t,n.offset()),i=n.offsetParent().offset(),s={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;if(!T.contains(_.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[C(t)]||r.getPropertyValue(t);if(Z(t)){var s={};return T.each(t,function(e,t){s[t]=i.style[C(t)]||r.getPropertyValue(t)}),s}}var o="";if("string"==e(t))n||0===n?o=f(t)+":"+c(t,n):this.each(function(){this.style.removeProperty(f(t))});else for(x in t)t[x]||0===t[x]?o+=f(x)+":"+c(x,t[x])+";":this.each(function(){this.style.removeProperty(f(x))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(T(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?L.some.call(this,function(e){return this.test(b(e))},l(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){N=[];var n=b(this),r=g(this,e,t,n);r.split(/\s+/g).forEach(function(e){T(this).hasClass(e)||N.push(e)},this),N.length&&b(this,n+(n?" ":"")+N.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===S)return b(this,"");N=b(this),g(this,e,t,N).split(/\s+/g).forEach(function(e){N=N.replace(l(e)," ")}),b(this,N.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=T(this),i=g(this,e,n,b(this));i.split(/\s+/g).forEach(function(e){(t===S?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===S?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===S?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=I.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(T(e).css("margin-top"))||0,n.left-=parseFloat(T(e).css("margin-left"))||0,r.top+=parseFloat(T(t[0]).css("border-top-width"))||0,r.left+=parseFloat(T(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||_.body;e&&!I.test(e.nodeName)&&"static"==T(e).css("position");)e=e.offsetParent;return e})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});T.fn[e]=function(i){var s,o=this[0];return i===S?n(o)?o["inner"+t]:r(o)?o.documentElement["scroll"+t]:(s=this.offset())&&s[e]:this.each(function(t){o=T(this),o.css(e,g(this,i,t,o[e]()))})}}),U.forEach(function(t,n){var r=n%2;T.fn[t]=function(){var t,i,s=T.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:Q.fragment(n)}),o=this.length>1;return s.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var u=T.contains(_.documentElement,i);s.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!i)return T(e).remove();i.insertBefore(e,t),u&&E(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},T.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return T(e)[t](this),this}}),Q.Z.prototype=d.prototype=T.fn,Q.uniq=k,Q.deserializeValue=w,T.zepto=Q,T}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function n(t,n,r,i){return t.global?e(n||y,r,i):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(e,t){var r=t.context;return t.beforeSend.call(r,e,t)===!1||n(t,r,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,r,"ajaxSend",[e,t])}function s(e,t,r,i){var s=r.context,o="success";r.success.call(s,e,o,t),i&&i.resolveWith(s,[e,o,t]),n(r,s,"ajaxSuccess",[t,r,e]),u(o,t,r)}function a(e,t,r,i,s){var o=i.context;i.error.call(o,r,t,e),s&&s.rejectWith(o,[r,t,e]),n(i,o,"ajaxError",[r,i,e||t]),u(t,r,i)}function u(e,t,i){var s=i.context;i.complete.call(s,t,e),n(i,s,"ajaxComplete",[t,i]),r(i)}function c(){}function l(e){return e&&(e=e.split(";",2)[0]),e&&(e==T?"html":e==E?"json":w.test(e)?"script":b.test(e)&&"xml")||"text"}function f(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function h(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data),e.data=void 0)}function p(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function d(e,n,r,i){var s,o=t.isArray(n),u=t.isPlainObject(n);t.each(n,function(n,f){s=t.type(f),i&&(n=r?i:i+"["+(u||"object"==s||"array"==s?n:"")+"]"),!i&&o?e.add(f.name,f.value):"array"==s||!r&&"object"==s?d(e,f,r,n):e.add(n,f)})}var m,g,v=0,y=window.document,x=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,E="application/json",T="text/html",j=/^\s*$/,C=y.createElement("a");C.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if("type"in e){var r,i,u=e.jsonpCallback,f=(t.isFunction(u)?u():u)||"jsonp"+ ++v,l=y.createElement("script"),c=window[f],h=function(e){t(l).triggerHandler("error",e||"abort")},p={abort:h};return n&&n.promise(p),t(l).on("load error",function(o,u){clearTimeout(i),t(l).off().remove(),"error"!=o.type&&r?s(r[0],p,e,n):a(null,u||"error",p,e,n),window[f]=c,r&&t.isFunction(c)&&c(r[0]),c=r=void 0}),o(p,e)===!1?(h("abort"),p):(window[f]=function(){r=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+f),y.head.appendChild(l),e.timeout>0&&(i=setTimeout(function(){h("timeout")},e.timeout)),p)}return t.ajax(e)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:E,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,r,u=t.extend({},e||{}),p=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===u[m]&&(u[m]=t.ajaxSettings[m]);i(u),u.crossDomain||(n=y.createElement("a"),n.href=u.url,n.href=n.href,u.crossDomain=C.protocol+"//"+C.host!=n.protocol+"//"+n.host),u.url||(u.url=window.location.toString()),(r=u.url.indexOf("#"))>-1&&(u.url=u.url.slice(0,r)),h(u);var d=u.dataType,v=/\?.+=\?/.test(u.url);if(v&&(d="jsonp"),u.cache!==!1&&(e&&e.cache===!0||"script"!=d&&"jsonp"!=d)||(u.url=f(u.url,"_="+Date.now())),"jsonp"==d)return v||(u.url=f(u.url,u.jsonp?u.jsonp+"=?":u.jsonp===!1?"":"callback=?")),t.ajaxJSONP(u,p);var x,w=u.accepts[d],b={},E=function(e,t){b[e.toLowerCase()]=[e,t]},T=/^([\w-]+:)\/\//.test(u.url)?RegExp.$1:window.location.protocol,S=u.xhr(),N=S.setRequestHeader;if(p&&p.promise(S),u.crossDomain||E("X-Requested-With","XMLHttpRequest"),E("Accept",w||"*/*"),(w=u.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(w)),(u.contentType||u.contentType!==!1&&u.data&&"GET"!=u.type.toUpperCase())&&E("Content-Type",u.contentType||"application/x-www-form-urlencoded"),u.headers)for(g in u.headers)E(g,u.headers[g]);if(S.setRequestHeader=E,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=c,clearTimeout(x);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==T){d=d||l(u.mimeType||S.getResponseHeader("content-type")),e=S.responseText;try{"script"==d?(1,eval)(e):"xml"==d?e=S.responseXML:"json"==d&&(e=j.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?a(n,"parsererror",S,u,p):s(e,S,u,p)}else a(S.statusText||null,S.status?"error":"abort",S,u,p)}},o(S,u)===!1)return S.abort(),a(null,"abort",S,u,p),S;if(u.xhrFields)for(g in u.xhrFields)S[g]=u.xhrFields[g];var P="async"in u?u.async:!0;S.open(u.type,u.url,P,u.username,u.password);for(g in b)N.apply(S,b[g]);return u.timeout>0&&(x=setTimeout(function(){S.onreadystatechange=c,S.abort(),a(null,"timeout",S,u,p)},u.timeout)),S.send(u.data?u.data:null),S},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,s=this,o=e.split(/\s/),u=p(e,n,r),a=u.success;return o.length>1&&(u.url=o[0],i=o[1]),u.success=function(e){s.html(i?t("<div>").html(e.replace(x,"")).find(i):e),a&&a.apply(s,arguments)},t.ajax(u),this};var S=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(S(e)+"="+S(n))},d(r,e,n),r.join("&").replace(/%20/g,"+")}}(Zepto),function(e){var t,n=[];e.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(n.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",t&&clearTimeout(t),t=setTimeout(function(){n=[]},6e4)),this.parentNode.removeChild(this))})}}(Zepto),function(e){function t(e){return e._zid||(e._zid=h++)}function n(e,n,s,o){if(n=r(n),n.ns)var u=i(n.ns);return(m[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||u.test(e.ns))&&(!s||t(e.fn)===t(s))&&(!o||e.sel==o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function s(e,t){return e.del&&!y&&e.e in b||!!t}function o(e){return w[e]||y&&b[e]||e}function u(n,i,u,a,l,h,p){var d=t(n),v=m[d]||(m[d]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(u);var i=r(t);i.fn=u,i.sel=l,i.e in w&&(u=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var d=h||u;i.proxy=function(e){if(e=f(e),!e.isImmediatePropagationStopped()){e.data=a;var t=d.apply(n,e._args==c?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=v.length,v.push(i),"addEventListener"in n&&n.addEventListener(o(i.e),i.proxy,s(i,p))})}function a(e,r,i,u,a){var f=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,u).forEach(function(t){delete m[f][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,s(t,a))})})}function f(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(T,function(e,r){var i=n[e];t[e]=function(){return this[r]=E,i&&i.apply(n,arguments)},t[r]=S}),(n.defaultPrevented!==c?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function l(e){var t,n={originalEvent:e};for(t in e)x.test(t)||e[t]===c||(n[t]=e[t]);return f(n,e)}var c,h=1,p=Array.prototype.slice,d=e.isFunction,v=function(e){return"string"==typeof e},m={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:u,remove:a},e.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(d(n)){var s=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return s._zid=t(n),s}if(v(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var E=function(){return!0},S=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,s){var o,f,h=this;return t&&!v(t)?(e.each(t,function(e,t){h.on(e,n,r,t,s)}),h):(v(n)||d(i)||i===!1||(i=r,r=n,n=c),(i===c||r===!1)&&(i=r,r=c),i===!1&&(i=S),h.each(function(c,h){s&&(o=function(e){return a(h,e.type,i),i.apply(this,arguments)}),n&&(f=function(t){var r,s=e(t.target).closest(n,h).get(0);return s&&s!==h?(r=e.extend(l(t),{currentTarget:s,liveFired:h}),(o||i).apply(s,[r].concat(p.call(arguments,1)))):void 0}),u(h,t,i,r,n,f||o)}))},e.fn.off=function(t,n,r){var i=this;return t&&!v(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(v(n)||d(r)||r===!1||(r=n,n=c),r===!1&&(r=S),i.each(function(){a(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):f(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,s;return this.each(function(o,u){i=l(v(t)?e.Event(t):t),i._args=r,i.target=u,e.each(n(u,t.type||t),function(e,t){return s=t.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),f(n)}}(Zepto),function(e){e.fn.serializeArray=function(){var n,r,i=[],s=function(e){return e.forEach?e.forEach(s):void i.push({name:n,value:e})};return this[0]&&e.each(this[0].elements,function(i,o){r=o.type,n=o.name,n&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&"file"!=r&&("radio"!=r&&"checkbox"!=r||o.checked)&&s(e(o).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(n){e.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value))}),e.join("&")},e.fn.submit=function(n){if(0 in arguments)this.bind("submit",n);else if(this.length){var r=e.Event("submit");this.eq(0).trigger(r),r.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(e){return i?i+e:e.toLowerCase()}var i,s,o,u,a,f,l,c,h,p,d="",v={Webkit:"webkit",Moz:"",O:"o"},m=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};e.each(v,function(e,n){return m.style[e+"TransitionProperty"]!==t?(d="-"+e.toLowerCase()+"-",i=n,!1):void 0}),s=d+"transform",y[o=d+"transition-property"]=y[u=d+"transition-duration"]=y[f=d+"transition-delay"]=y[a=d+"transition-timing-function"]=y[l=d+"animation-name"]=y[c=d+"animation-duration"]=y[p=d+"animation-delay"]=y[h=d+"animation-timing-function"]="",e.fx={off:i===t&&m.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(n,r,i,s,o){return e.isFunction(r)&&(s=r,i=t,r=t),e.isFunction(i)&&(s=i,i=t),e.isPlainObject(r)&&(i=r.easing,s=r.complete,o=r.delay,r=r.duration),r&&(r=("number"==typeof r?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,r,i,s,o)},e.fn.anim=function(r,i,d,v,m){var b,w,E,S={},x="",T=this,N=e.fx.transitionEnd,C=!1;if(i===t&&(i=e.fx.speeds._default/1e3),m===t&&(m=0),e.fx.off&&(i=0),"string"==typeof r)S[l]=r,S[c]=i+"s",S[p]=m+"s",S[h]=d||"linear",N=e.fx.animationEnd;else{w=[];for(b in r)g.test(b)?x+=b+"("+r[b]+") ":(S[b]=r[b],w.push(n(b)));x&&(S[s]=x,w.push(s)),i>0&&"object"==typeof r&&(S[o]=w.join(", "),S[u]=i+"s",S[f]=m+"s",S[a]=d||"linear")}return E=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind(N,E)}else e(this).unbind(N,E);C=!0,e(this).css(y),v&&v.call(this)},i>0&&(this.bind(N,E),setTimeout(function(){C||E.call(T)},1e3*(i+m)+25)),this.size()&&this.get(0).clientLeft,this.css(S),0>=i&&setTimeout(function(){T.each(function(){E.call(this)})},0),this},m=null}(Zepto),function(e,t){function n(n,r,i,s,o){"function"!=typeof r||o||(o=r,r=t);var u={opacity:i};return s&&(u.scale=s,n.css(e.fx.cssPrefix+"transform-origin","0 0")),n.animate(u,r,null,o)}function r(t,r,i,s){return n(t,r,0,i,function(){o.call(e(this)),s&&s.call(this)})}var i=window.document,s=(i.documentElement,e.fn.show),o=e.fn.hide,u=e.fn.toggle;e.fn.show=function(e,r){return s.call(this),e===t?e=0:this.css("opacity",0),n(this,e,1,"1,1",r)},e.fn.hide=function(e,n){return e===t?o.call(this):r(this,e,"0,0",n)},e.fn.toggle=function(n,r){return n===t||"boolean"==typeof n?u.call(this,n):this.each(function(){var t=e(this);t["none"==t.css("display")?"show":"hide"](n,r)})},e.fn.fadeTo=function(e,t,r){return n(this,e,t,null,r)},e.fn.fadeIn=function(e,t){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,s.call(this).fadeTo(e,n,t)},e.fn.fadeOut=function(e,t){return r(this,e,null,t)},e.fn.fadeToggle=function(t,n){return this.each(function(){var r=e(this);r[0==r.css("opacity")||"none"==r.css("display")?"fadeIn":"fadeOut"](t,n)})}}(Zepto),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(n){return null}}}}(),function(e){function t(t){return t=e(t),(!!t.width()||!!t.height())&&"none"!==t.css("display")}function n(e,t){e=e.replace(/=#\]/g,'="#"]');var n,r,i=u.exec(e);if(i&&i[2]in o&&(n=o[i[2]],r=i[3],e=i[1],r)){var s=Number(r);r=isNaN(s)?r.replace(/^["']|["']$/g,""):s}return t(e,n,r)}var r=e.zepto,i=r.qsa,s=r.matches,o=e.expr[":"]={visible:function(){return t(this)?this:void 0},hidden:function(){return t(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(e){return 0===e?this:void 0},last:function(e,t){return e===t.length-1?this:void 0},eq:function(e,t,n){return e===n?this:void 0},contains:function(t,n,r){return e(this).text().indexOf(r)>-1?this:void 0},has:function(e,t,n){return r.qsa(this,n).length?this:void 0}},u=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),a=/^\s*>/,f="Zepto"+ +(new Date);r.qsa=function(t,s){return n(s,function(n,o,u){try{var l;!n&&o?n="*":a.test(n)&&(l=e(t).addClass(f),n="."+f+" "+n);var h=i(t,n)}catch(p){throw console.error("error performing selector: %o",s),p}finally{l&&l.removeClass(f)}return o?r.uniq(e.map(h,function(e,t){return o.call(e,t,h,u)})):h})},r.matches=function(e,t){return n(t,function(t,n,r){return(!t||s(e,t))&&(!n||n.call(e,null,r)===e)})}}(Zepto),function(e){function t(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function n(){l=null,h.last&&(h.el.trigger("longTap"),h={})}function r(){l&&clearTimeout(l),l=null}function i(){u&&clearTimeout(u),a&&clearTimeout(a),f&&clearTimeout(f),l&&clearTimeout(l),u=a=f=l=null,h={}}function s(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function o(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var u,a,f,l,c,h={},p=750;e(document).ready(function(){var d,v,m,g,y=0,b=0;"MSGesture"in window&&(c=new MSGesture,c.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(h.el.trigger("swipe"),h.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){(!(g=o(t,"down"))||s(t))&&(m=g?t:t.touches[0],t.touches&&1===t.touches.length&&h.x2&&(h.x2=void 0,h.y2=void 0),d=Date.now(),v=d-(h.last||d),h.el=e("tagName"in m.target?m.target:m.target.parentNode),u&&clearTimeout(u),h.x1=m.pageX,h.y1=m.pageY,v>0&&250>=v&&(h.isDoubleTap=!0),h.last=d,l=setTimeout(n,p),c&&g&&c.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(!(g=o(e,"move"))||s(e))&&(m=g?e:e.touches[0],r(),h.x2=m.pageX,h.y2=m.pageY,y+=Math.abs(h.x1-h.x2),b+=Math.abs(h.y1-h.y2))}).on("touchend MSPointerUp pointerup",function(n){(!(g=o(n,"up"))||s(n))&&(r(),h.x2&&Math.abs(h.x1-h.x2)>30||h.y2&&Math.abs(h.y1-h.y2)>30?f=setTimeout(function(){h.el.trigger("swipe"),h.el.trigger("swipe"+t(h.x1,h.x2,h.y1,h.y2)),h={}},0):"last"in h&&(30>y&&30>b?a=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=i,h.el.trigger(t),h.isDoubleTap?(h.el&&h.el.trigger("doubleTap"),h={}):u=setTimeout(function(){u=null,h.el&&h.el.trigger("singleTap"),h={}},250)},0):h={}),y=b=0)}).on("touchcancel MSPointerCancel pointercancel",i),e(window).on("scroll",i)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),define("$",function(){}),define("fx",["$"],function(){(function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(e){return s?s+e:e.toLowerCase()}var i="",s,o={Webkit:"webkit",Moz:"",O:"o"},u=document.createElement("div"),a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,f,l,c,h,p,d,v,m,g,y={};e.each(o,function(e,n){if(u.style[e+"TransitionProperty"]!==t)return i="-"+e.toLowerCase()+"-",s=n,!1}),f=i+"transform",y[l=i+"transition-property"]=y[c=i+"transition-duration"]=y[p=i+"transition-delay"]=y[h=i+"transition-timing-function"]=y[d=i+"animation-name"]=y[v=i+"animation-duration"]=y[g=i+"animation-delay"]=y[m=i+"animation-timing-function"]="",e.fx={off:s===t&&u.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:i,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(n,r,i,s,o){return e.isFunction(r)&&(s=r,i=t,r=t),e.isFunction(i)&&(s=i,i=t),e.isPlainObject(r)&&(i=r.easing,s=r.complete,o=r.delay,r=r.duration),r&&(r=(typeof r=="number"?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,r,i,s,o)},e.fn.anim=function(r,i,s,o,u){var b,w={},E,S="",x=this,T,N=e.fx.transitionEnd,C=!1;i===t&&(i=e.fx.speeds._default/1e3),u===t&&(u=0),e.fx.off&&(i=0);if(typeof r=="string")w[d]=r,w[v]=i+"s",w[g]=u+"s",w[m]=s||"linear",N=e.fx.animationEnd;else{E=[];for(b in r)a.test(b)?S+=b+"("+r[b]+") ":(w[b]=r[b],E.push(n(b)));S&&(w[f]=S,E.push(f)),i>0&&typeof r=="object"&&(w[l]=E.join(", "),w[c]=i+"s",w[p]=u+"s",w[h]=s||"linear")}return T=function(t){if(typeof t!="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(N,T)}else e(this).unbind(N,T);C=!0,e(this).css(y),o&&o.call(this)},i>0&&(this.bind(N,T),setTimeout(function(){if(C)return;T.call(x)},(i+u)*1e3+25)),this.size()&&this.get(0).clientLeft,this.css(w),i<=0&&setTimeout(function(){x.each(function(){T.call(this)})},0),this},u=null})(Zepto)}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(n){return}var r=e.href||e.getAttribute("data-href"),i=r.replace(/[^\/]+$/,""),s=(/^[a-z]{3,10}:/.exec(i)||[""])[0],o=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(i)||[""])[0],u=/^([^?]*)\??/.exec(r)[1],a=e.parentNode,f=new XMLHttpRequest,l;f.onreadystatechange=function(){4===f.readyState&&l()},l=function(){var n=f.responseText;if(n&&e.parentNode&&(!f.status||400>f.status||600<f.status)){n=t.fix(n,!0,e);if(i)var n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,n){return/^([a-z]{3,10}:|#)/i.test(n)?e:/^\/\//.test(n)?'url("'+s+n+'")':/^\//.test(n)?'url("'+o+n+'")':/^\?/.test(n)?'url("'+u+n+'")':'url("'+i+n+'")'}),r=i.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1"),n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+r,"gi"),"$1");r=document.createElement("style"),r.textContent=n,r.media=e.media,r.disabled=e.disabled,r.setAttribute("data-href",e.getAttribute("href")),a.insertBefore(r,e),a.removeChild(e),r.media=e.media}};try{f.open("GET",r),f.send(null)}catch(c){"undefined"!=typeof XDomainRequest&&(f=new XDomainRequest,f.onerror=f.onprogress=function(){},f.onload=l,f.open("GET",r),f.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var n=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=n}},styleAttribute:function(e){var n=e.getAttribute("style"),n=t.fix(n,!1,e);e.setAttribute("style",n)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,n){(t.fixers=t.fixers||[]).splice(void 0===n?t.fixers.length:n,0,e)},fix:function(e,n,r){for(var i=0;i<t.fixers.length;i++)e=t.fixers[i](e,n,r)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};(function(){setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)})()}}(),function(e){function t(e,t,r,i,s){return e=n[e],e.length&&(e=RegExp(t+"("+e.join("|")+")"+r,"gi"),s=s.replace(e,i)),s}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(e,r,i){var s=n.prefix;-1<n.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/ig,function(e,t,n,r){return t+(n||"")+"linear-gradient("+(90-r)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+s+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+s+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+s+"$2:",e);if(n.properties.length){var o=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(o,s+"$1")},e)}return r&&(e=t("selectors","","\\b",n.prefixSelector,e),e=t("atrules","@","\\b","@"+s+"$1",e)),e=e.replace(RegExp("-"+s,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(e){return(0<=n.properties.indexOf(e)?n.prefix:"")+e},value:function(e,r){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",e),0<=n.valueProperties.indexOf(r)&&(e=t("properties","(^|\\s|,)","($|\\s|,)","$1"+n.prefix+"$2$3",e)),e},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+n.prefix})},prefixProperty:function(e,t){var r=n.prefix+e;return t?StyleFix.camelCase(r):r}};(function(){var e={},t=[],r=getComputedStyle(document.documentElement,null),i=document.createElement("div").style,s=function(n){if("-"===n.charAt(0)){t.push(n),n=n.split("-");var r=n[1];for(e[r]=++e[r]||1;3<n.length;)n.pop(),r=n.join("-"),StyleFix.camelCase(r)in i&&-1===t.indexOf(r)&&t.push(r)}};if(0<r.length)for(var o=0;o<r.length;o++)s(r[o]);else for(var u in r)s(StyleFix.deCamelCase(u));var o=0,f,l;for(l in e)r=e[l],o<r&&(f=l,o=r);n.prefix="-"+f+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[];for(o=0;o<t.length;o++)u=t[o],0===u.indexOf(n.prefix)&&(f=u.slice(n.prefix.length),StyleFix.camelCase(f)in i||n.properties.push(f));!("Ms"!=n.Prefix||"transform"in i||"MsTransform"in i)&&"msTransform"in i&&n.properties.push("transform","transform-origin"),n.properties.sort()})(),function(){function e(e,t){return i[t]="",i[t]=e,!!i[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var r={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};n.functions=[],n.keywords=[];var i=document.createElement("div").style,s;for(s in t){var o=t[s],u=o.property,o=s+"("+o.params+")";!e(o,u)&&e(n.prefix+o,u)&&n.functions.push(s)}for(var f in r)u=r[f],!e(f,u)&&e(n.prefix+f,u)&&n.keywords.push(f)}(),function(){function t(e){return s.textContent=e+"{}",!!s.sheet.cssRules.length}var r={":read-only":null,":read-write":null,":any-link":null,"::selection":null},i={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var s=e.appendChild(document.createElement("style")),o;for(o in r){var u=o+(r[o]?"("+r[o]+")":"");!t(u)&&t(n.prefixSelector(u))&&n.selectors.push(o)}for(var f in i)u=f+" "+(i[f]||""),!t("@"+u)&&t("@"+n.prefix+u)&&n.atrules.push(f);e.removeChild(s)}(),n.valueProperties=["transition","transition-property"],e.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement),define("prefixfree",function(){});var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&e.type==="file"||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){"use strict";return deviceIsAndroid&&e.tagName.toLowerCase()==="select"?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;deviceIsIOS&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,n,r;if(e.targetTouches.length>1)return!0;t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0];if(deviceIsIOS){r=window.getSelection();if(r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))this.trackingClick=!1,this.targetElement=null;return!0},FastClick.prototype.findControl=function(e){"use strict";return e.control!==undefined?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,r,i,s,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=e.changedTouches[0],o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=o.tagName.toLowerCase();if(r==="label"){t=this.findControl(o);if(t){this.focus(o);if(deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o)){if(e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&r==="input")return this.targetElement=null,!1;this.focus(o),this.sendClick(o,e);if(!deviceIsIOS4||r!=="select")this.targetElement=null,e.preventDefault();return!1}if(deviceIsIOS&&!deviceIsIOS4){i=o.fastClickScrollParent;if(i&&i.fastClickLastScrollTop!==i.scrollTop)return!0}return this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):e.target.type==="submit"&&e.detail===0?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,n;if(typeof window.ontouchstart=="undefined")return!0;n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(!deviceIsAndroid)return!0;t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return e.style.msTouchAction==="none"?!0:!1},FastClick.attach=function(e){"use strict";return new FastClick(e)},typeof define!="undefined"&&define.amd?define("fastclick",[],function(){"use strict";return FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,define("lazyloading",["$"],function(){$.fn.picLazyLoad=function(e,t){function s(){n.each(function(){var e=$(this);if(e.is("img")){if(e.attr("data-original")){var n=e.offset().top;n-t.threshold<=i+r&&(e.attr("src",e.attr("data-original")),e.removeAttr("data-original"))}}else if(e.attr("data-original")){e.css("background-image")=="none"&&e.css("background-image","url("+t.placeholder+")");var n=e.offset().top;n-t.threshold<=i+r&&(e.css("background-image","url("+e.attr("data-original")+")"),e.removeAttr("data-original"))}})}var n=$(this),r=0,i=$(window).height();t=$.extend({threshold:0,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"},t||{}),s(),e.on("scroll",function(){r=$(window).scrollTop(),s()})}}),!function(e,t){"function"==typeof define&&define.amd?define("photoswipe",t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,n,r){var i={features:null,bind:function(e,t,n,r){var i=(r?"remove":"add")+"EventListener";t=t.split(" ");for(var s=0;s<t.length;s++)t[s]&&e[i](t[s],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&(new RegExp("(^|\\s)"+t+"(\\s|$)")).test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var r=e.length;r--;)if(e[r][n]===t)return r;return-1},extend:function(e,t,n){for(var r in t)if(t.hasOwnProperty(r)){if(n&&e.hasOwnProperty(r))continue;e[r]=t[r]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl(),t=e.style,n="",r={};if(r.oldIE=document.all&&!document.addEventListener,r.touch="ontouchstart"in window,window.requestAnimationFrame&&(r.raf=window.requestAnimationFrame,r.caf=window.cancelAnimationFrame),r.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!r.pointerEvent){var s=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10),o>=1&&8>o&&(r.isOldIOSPhone=!0))}var u=s.match(/Android\s([0-9\.]*)/),a=u?u[1]:0;a=parseFloat(a),a>=1&&(4.4>a&&(r.isOldAndroid=!0),r.androidVersion=a),r.isMobileOpera=/opera mini|opera mobi/i.test(s)}for(var f,l,c=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],p=0;4>p;p++){n=h[p];for(var d=0;3>d;d++)f=c[d],l=n+(n?f.charAt(0).toUpperCase()+f.slice(1):f),!r[f]&&l in t&&(r[f]=l);n&&!r.raf&&(n=n.toLowerCase(),r.raf=window[n+"RequestAnimationFrame"],r.raf&&(r.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!r.raf){var v=0;r.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-v)),r=window.setTimeout(function(){e(t+n)},n);return v=t+n,r},r.caf=function(e){clearTimeout(e)}}return r.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=r,r}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,r){t=t.split(" ");for(var i,s=(r?"detach":"attach")+"Event",o=function(){n.handleEvent.call(n)},u=0;u<t.length;u++)if(i=t[u])if("object"==typeof n&&n.handleEvent){if(r){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=o;e[s]("on"+i,n["oldIE"+i])}else e[s]("on"+i,n)});var s=this,o=25,u=3,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit",alwaysFadeIn:!1};i.extend(a,r);var f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct=function(){return{x:0,y:0}},ht=ct(),pt=ct(),dt=ct(),vt={},mt=0,gt={},yt=ct(),bt=0,wt=!0,Et=[],St={},xt=!1,Tt=function(e,t){i.extend(s,t.publicMethods),Et.push(e)},Nt=function(e){var t=er();return e>t-1?e-t:0>e?t+e:e},Ct={},kt=function(e,t){return Ct[e]||(Ct[e]=[]),Ct[e].push(t)},Lt=function(e){var t=Ct[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var r=0;r<t.length;r++)t[r].apply(s,n)}},At=function(){return(new Date).getTime()},Ot=function(e){at=e,s.bg.style.opacity=e*a.bgOpacity},Mt=function(e,t,n,r,i){(!xt||i&&i!==s.currItem)&&(r/=i?i.fitRatio:s.currItem.fitRatio),e[O]=w+t+"px, "+n+"px"+E+" scale("+r+")"},_t=function(e){rt&&(e&&(y>s.currItem.fitRatio?xt||(hr(s.currItem,!1,!0),xt=!0):xt&&(hr(s.currItem),xt=!1)),Mt(rt,dt.x,dt.y,y))},Dt=function(e){e.container&&Mt(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Pt=function(e,t){t[O]=w+e+"px, 0px"+E},Ht=function(e,t){if(!a.loop&&t){var n=h+(yt.x*mt-e)/yt.x,r=Math.round(e-bn.x);(0>n&&r>0||n>=er()-1&&0>r)&&(e=bn.x+r*a.mainScrollEndFriction)}bn.x=e,Pt(e,p)},Bt=function(e,t){var n=wn[e]-gt[e];return pt[e]+ht[e]+n-n*(t/b)},jt=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Ft=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},It=null,qt=function(){It&&(i.unbind(document,"mousemove",qt),i.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,Lt("mouseUsed")),It=setTimeout(function(){It=null},100)},Rt=function(){i.bind(document,"keydown",s),I.transform&&i.bind(s.scrollWrap,"click",s),a.mouseUsed||i.bind(document,"mousemove",qt),i.bind(window,"resize scroll",s),Lt("bindEvents")},Ut=function(){i.unbind(window,"resize",s),i.unbind(window,"scroll",g.scroll),i.unbind(document,"keydown",s),i.unbind(document,"mousemove",qt),I.transform&&i.unbind(s.scrollWrap,"click",s),V&&i.unbind(window,v,s),Lt("unbindEvents")},zt=function(e,t){var n=ar(s.currItem,vt,e);return t&&(nt=n),n},Wt=function(e){return e||(e=s.currItem),e.initialZoomLevel},Xt=function(e){return e||(e=s.currItem),e.w>0?a.maxSpreadZoom:1},Vt=function(e,t,n,r){return r===s.currItem.initialZoomLevel?(n[e]=s.currItem.initialPosition[e],!0):(n[e]=Bt(e,r),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]?(n[e]=t.max[e],!0):!1)},$t=function(){if(O){var t=I.perspective&&!_;return w="translate"+(t?"3d(":"("),void (E=I.perspective?", 0px)":")")}O="left",i.addClass(e,"pswp--ie"),Pt=function(e,t){t.left=e+"px"},Dt=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,r=t*e.w,i=t*e.h;n.width=r+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},_t=function(){if(rt){var e=rt,t=s.currItem,n=t.fitRatio>1?1:t.fitRatio,r=n*t.w,i=n*t.h;e.width=r+"px",e.height=i+"px",e.left=dt.x+"px",e.top=dt.y+"px"}}},Jt=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,s[t]()))},Kt=function(e){e&&(K||J||it||W)&&(e.preventDefault(),e.stopPropagation())},Qt=function(){s.setScrollOffset(0,i.getScrollY())},Gt={},Yt=0,Zt=function(e){Gt[e]&&(Gt[e].raf&&P(Gt[e].raf),Yt--,delete Gt[e])},en=function(e){Gt[e]&&Zt(e),Gt[e]||(Yt++,Gt[e]={})},tn=function(){for(var e in Gt)Gt.hasOwnProperty(e)&&Zt(e)},nn=function(e,t,n,r,i,s,o){var u,a=At();en(e);var f=function(){if(Gt[e]){if(u=At()-a,u>=r)return Zt(e),s(n),void (o&&o());s((n-t)*i(u/r)+t),Gt[e].raf=D(f)}};f()},rn={shout:Lt,listen:kt,viewportSize:vt,options:a,isMainScrollAnimating:function(){return it},getZoomLevel:function(){return y},getCurrentIndex:function(){return h},isDragging:function(){return V},isZooming:function(){return Z},setScrollOffset:function(e,t){gt.x=e,F=gt.y=t,Lt("updateScrollOffset",gt)},applyZoomPan:function(e,t,n,r){dt.x=t,dt.y=n,y=e,_t(r)},init:function(){if(!f&&!l){var n;s.framework=i,s.template=e,s.bg=i.getChildByClass(e,"pswp__bg"),H=e.className,f=!0,I=i.detectFeatures(),D=I.raf,P=I.caf,O=I.transform,j=I.oldIE,s.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),s.container=i.getChildByClass(s.scrollWrap,"pswp__container"),p=s.container.style,s.itemHolders=T=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],T[0].el.style.display=T[2].el.style.display="none",$t(),g={resize:s.updateSize,scroll:Qt,keydown:Jt,click:Kt};var r=I.isOldIOSPhone||I.isOldAndroid||I.isMobileOpera;for(I.animationName&&I.transform&&!r||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<Et.length;n++)s["init"+Et[n]]();if(t){var o=s.ui=new t(s,i);o.init()}Lt("firstUpdate"),h=h||a.index||0,(isNaN(h)||0>h||h>=er())&&(h=0),s.currItem=Zn(h),(I.isOldIOSPhone||I.isOldAndroid)&&(wt=!1),e.setAttribute("aria-hidden","false"),a.modal&&(wt?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===F&&(Lt("initialLayout"),F=B=i.getScrollY());var c="pswp--open ";for(a.mainClass&&(c+=a.mainClass+" "),a.showHideOpacity&&(c+="pswp--animate_opacity "),c+=_?"pswp--touch":"pswp--notouch",c+=I.animationName?" pswp--css_animation":"",c+=I.svg?" pswp--svg":"",i.addClass(e,c),s.updateSize(),d=-1,bt=null,n=0;u>n;n++)Pt((n+d)*yt.x,T[n].el.style);j||i.bind(s.scrollWrap,m,s),kt("initialZoomInEnd",function(){s.setContent(T[0],h-1),s.setContent(T[2],h+1),T[0].el.style.display=T[2].el.style.display="block",a.focus&&e.focus(),Rt()}),s.setContent(T[1],h),s.updateCurrItem(),Lt("afterInit"),wt||(S=setInterval(function(){Yt||V||Z||y!==s.currItem.initialZoomLevel||s.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){f&&(f=!1,l=!0,Lt("close"),Ut(),nr(s.currItem,null,!0,s.destroy))},destroy:function(){Lt("destroy"),Kn&&clearTimeout(Kn),e.setAttribute("aria-hidden","true"),e.className=H,S&&clearInterval(S),i.unbind(s.scrollWrap,m,s),i.unbind(window,"scroll",s),Nn(),tn(),Ct=null},panTo:function(e,t,n){n||(e>nt.min.x?e=nt.min.x:e<nt.max.x&&(e=nt.max.x),t>nt.min.y?t=nt.min.y:t<nt.max.y&&(t=nt.max.y)),dt.x=e,dt.y=t,_t()},handleEvent:function(e){e=e||window.event,g[e.type]&&g[e.type](e)},goTo:function(e){e=Nt(e);var t=e-h;bt=t,h=e,s.currItem=Zn(h),mt-=t,Ht(yt.x*mt),tn(),it=!1,s.updateCurrItem()},next:function(){s.goTo(h+1)},prev:function(){s.goTo(h-1)},updateCurrZoomItem:function(e){if(e&&Lt("beforeChange",0),T[1].el.children.length){var t=T[1].el.children[0];rt=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else rt=null;nt=s.currItem.bounds,b=y=s.currItem.initialZoomLevel,dt.x=nt.center.x,dt.y=nt.center.y,e&&Lt("afterChange")},invalidateCurrItems:function(){x=!0;for(var e=0;u>e;e++)T[e].item&&(T[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==bt){var t,n=Math.abs(bt);if(!(e&&2>n)){s.currItem=Zn(h),xt=!1,Lt("beforeChange",bt),n>=u&&(d+=bt+(bt>0?-u:u),n=u);for(var r=0;n>r;r++)bt>0?(t=T.shift(),T[u-1]=t,d++,Pt((d+2)*yt.x,t.el.style),s.setContent(t,h-n+r+1+1)):(t=T.pop(),T.unshift(t),d--,Pt(d*yt.x,t.el.style),s.setContent(t,h+n-r-1-1));if(rt&&1===Math.abs(bt)){var i=Zn(N);i.initialZoomLevel!==y&&(ar(i,vt),hr(i),Dt(i))}bt=0,s.updateCurrZoomItem(),N=h,Lt("afterChange")}}},updateSize:function(t){if(!wt&&a.modal){var n=i.getScrollY();if(F!==n&&(e.style.top=n+"px",F=n),!t&&St.x===window.innerWidth&&St.y===window.innerHeight)return;St.x=window.innerWidth,St.y=window.innerHeight,e.style.height=St.y+"px"}if(vt.x=s.scrollWrap.clientWidth,vt.y=s.scrollWrap.clientHeight,Qt(),yt.x=vt.x+Math.round(vt.x*a.spacing),yt.y=vt.y,Ht(yt.x*mt),Lt("beforeResize"),void 0!==d){for(var r,o,f,l=0;u>l;l++)r=T[l],Pt((l+d)*yt.x,r.el.style),f=h+l-1,a.loop&&er()>2&&(f=Nt(f)),o=Zn(f),o&&(x||o.needsUpdate||!o.bounds)?(s.cleanSlide(o),s.setContent(r,f),1===l&&(s.currItem=o,s.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===r.index&&f>=0&&s.setContent(r,f),o&&o.container&&(ar(o,vt),hr(o),Dt(o));x=!1}b=y=s.currItem.initialZoomLevel,nt=s.currItem.bounds,nt&&(dt.x=nt.center.x,dt.y=nt.center.y,_t(!0)),Lt("resize")},zoomTo:function(e,t,n,r,s){t&&(b=y,wn.x=Math.abs(t.x)-dt.x,wn.y=Math.abs(t.y)-dt.y,jt(pt,dt));var o=zt(e,!1),u={};Vt("x",o,u,e),Vt("y",o,u,e);var a=y,f={x:dt.x,y:dt.y};Ft(u);var l=function(t){1===t?(y=e,dt.x=u.x,dt.y=u.y):(y=(e-a)*t+a,dt.x=(u.x-f.x)*t+f.x,dt.y=(u.y-f.y)*t+f.y),s&&s(t),_t(1===t)};n?nn("customZoomTo",0,1,n,r||i.easing.sine.inOut,l):l(1)}},sn=30,on=10,un={},an={},fn={},ln={},cn={},hn=[],pn={},dn=[],vn={},mn=0,gn=ct(),yn=0,bn=ct(),wn=ct(),En=ct(),Sn=function(e,t){return e.x===t.x&&e.y===t.y},xn=function(e,t){return Math.abs(e.x-t.x)<o&&Math.abs(e.y-t.y)<o},Tn=function(e,t){return vn.x=Math.abs(e.x-t.x),vn.y=Math.abs(e.y-t.y),Math.sqrt(vn.x*vn.x+vn.y*vn.y)},Nn=function(){Q&&(P(Q),Q=null)},Cn=function(){V&&(Q=D(Cn),Un())},kn=function(){return"fit"!==a.scaleMode||y!==s.currItem.initialZoomLevel},Ln=function(e,t){return e?e.className&&e.className.indexOf("pswp__scroll-wrap")>-1?!1:t(e)?e:Ln(e.parentNode,t):!1},An={},On=function(e,t){return An.prevent=!Ln(e.target,a.isClickableElement),Lt("preventDragEvent",e,t,An),An.prevent},Mn=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},_n=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Dn=function(e,t,n){if(e-R>50){var r=dn.length>2?dn.shift():{};r.x=t,r.y=n,dn.push(r),R=e}},Pn=function(){var e=dt.y-s.currItem.initialPosition.y;return 1-Math.abs(e/(vt.y/2))},Hn={},Bn={},jn=[],Fn=function(e){for(;jn.length>0;)jn.pop();return M?(lt=0,hn.forEach(function(e){0===lt?jn[0]=e:1===lt&&(jn[1]=e),lt++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(jn[0]=Mn(e.touches[0],Hn),e.touches.length>1&&(jn[1]=Mn(e.touches[1],Bn))):(Hn.x=e.pageX,Hn.y=e.pageY,Hn.id="",jn[0]=Hn),jn},In=function(e,t){var n,r,i,o,u=0,f=dt[e]+t[e],l=t[e]>0,c=bn.x+t.x,h=bn.x-pn.x;return n=f>nt.min[e]||f<nt.max[e]?a.panEndFriction:1,f=dt[e]+t[e]*n,!a.allowPanToNext&&y!==s.currItem.initialZoomLevel||(rt?"h"!==st||"x"!==e||J||(l?(f>nt.min[e]&&(n=a.panEndFriction,u=nt.min[e]-f,r=nt.min[e]-pt[e]),(0>=r||0>h)&&er()>1?(o=c,0>h&&c>pn.x&&(o=pn.x)):nt.min.x!==nt.max.x&&(i=f)):(f<nt.max[e]&&(n=a.panEndFriction,u=f-nt.max[e],r=pt[e]-nt.max[e]),(0>=r||h>0)&&er()>1?(o=c,h>0&&c<pn.x&&(o=pn.x)):nt.min.x!==nt.max.x&&(i=f))):o=c,"x"!==e)?void (it||G||y>s.currItem.fitRatio&&(dt[e]+=t[e]*n)):(void 0!==o&&(Ht(o,!0),G=o===pn.x?!1:!0),nt.min.x!==nt.max.x&&(void 0!==i?dt.x=i:G||(dt.x+=t.x*n)),void 0!==o)},qn=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Yn)return void e.preventDefault();if(!X||"mousedown"!==e.type){if(On(e,!0)&&e.preventDefault(),Lt("pointerDown"),M){var t=i.arraySearch(hn,e.pointerId,"id");0>t&&(t=hn.length),hn[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Fn(e),r=n.length;Y=null,tn(),V&&1!==r||(V=ot=!0,i.bind(window,v,s),z=ft=ut=W=G=K=$=J=!1,st=null,Lt("firstTouchStart",n),jt(pt,dt),ht.x=ht.y=0,jt(ln,n[0]),jt(cn,ln),pn.x=yt.x*mt,dn=[{x:ln.x,y:ln.y}],R=q=At(),zt(y,!0),Nn(),Cn()),!Z&&r>1&&!it&&!G&&(b=y,J=!1,Z=$=!0,ht.y=ht.x=0,jt(pt,dt),jt(un,n[0]),jt(an,n[1]),_n(un,an,En),wn.x=Math.abs(En.x)-dt.x,wn.y=Math.abs(En.y)-dt.y,et=tt=Tn(un,an))}}},Rn=function(e){if(e.preventDefault(),M){var t=i.arraySearch(hn,e.pointerId,"id");if(t>-1){var n=hn[t];n.x=e.pageX,n.y=e.pageY}}if(V){var r=Fn(e);if(st||K||Z)Y=r;else if(bn.x!==yt.x*mt)st="h";else{var s=Math.abs(r[0].x-ln.x)-Math.abs(r[0].y-ln.y);Math.abs(s)>=on&&(st=s>0?"h":"v",Y=r)}}},Un=function(){if(Y){var e=Y.length;if(0!==e)if(jt(un,Y[0]),fn.x=un.x-ln.x,fn.y=un.y-ln.y,Z&&e>1){if(ln.x=un.x,ln.y=un.y,!fn.x&&!fn.y&&Sn(Y[1],an))return;jt(an,Y[1]),J||(J=!0,Lt("zoomGestureStarted"));var t=Tn(un,an),n=$n(t);n>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(ft=!0);var r=1,i=Wt(),o=Xt();if(i>n)if(a.pinchToClose&&!ft&&b<=s.currItem.initialZoomLevel){var u=i-n,f=1-u/(i/1.2);Ot(f),Lt("onPinchClose",f),ut=!0}else r=(i-n)/i,r>1&&(r=1),n=i-r*(i/3);else n>o&&(r=(n-o)/(6*i),r>1&&(r=1),n=o+r*i);0>r&&(r=0),et=t,_n(un,an,gn),ht.x+=gn.x-En.x,ht.y+=gn.y-En.y,jt(En,gn),dt.x=Bt("x",n),dt.y=Bt("y",n),z=n>y,y=n,_t()}else{if(!st)return;if(ot&&(ot=!1,Math.abs(fn.x)>=on&&(fn.x-=Y[0].x-cn.x),Math.abs(fn.y)>=on&&(fn.y-=Y[0].y-cn.y)),ln.x=un.x,ln.y=un.y,0===fn.x&&0===fn.y)return;if("v"===st&&a.closeOnVerticalDrag&&!kn()){ht.y+=fn.y,dt.y+=fn.y;var l=Pn();return W=!0,Lt("onVerticalDrag",l),Ot(l),void _t()}Dn(At(),un.x,un.y),K=!0,nt=s.currItem.bounds;var c=In("x",fn);c||(In("y",fn),Ft(dt),_t())}}},zn=function(e){if(I.isOldAndroid){if(X&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(X),X=setTimeout(function(){X=0},600))}Lt("pointerUp"),On(e,!1)&&e.preventDefault();var t;if(M){var n=i.arraySearch(hn,e.pointerId,"id");if(n>-1)if(t=hn.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var r={4:"mouse",2:"touch",3:"pen"};t.type=r[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var o,u=Fn(e),f=u.length;if("mouseup"===e.type&&(f=0),2===f)return Y=null,!0;1===f&&jt(cn,u[0]),0!==f||st||it||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Lt("touchRelease",e,t));var l=-1;if(0===f&&(V=!1,i.unbind(window,v,s),Nn(),Z?l=0:-1!==yn&&(l=At()-yn)),yn=1===f?At():-1,o=-1!==l&&150>l?"zoom":"swipe",Z&&2>f&&(Z=!1,1===f&&(o="zoomPointerUp"),Lt("zoomGestureEnded")),Y=null,K||J||it||W)if(tn(),U||(U=Wn()),U.calculateSwipeSpeed("x"),W){var c=Pn();if(c<a.verticalDragRange)s.close();else{var h=dt.y,p=at;nn("verticalDrag",0,1,300,i.easing.cubic.out,function(e){dt.y=(s.currItem.initialPosition.y-h)*e+h,Ot((1-p)*e+p),_t()}),Lt("onVerticalDrag",1)}}else{if((G||it)&&0===f){var d=Vn(o,U);if(d)return;o="zoomPointerUp"}if(!it)return"swipe"!==o?void Jn():void (!G&&y>s.currItem.fitRatio&&Xn(U))}},Wn=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){dn.length>1?(e=At()-R+50,t=dn[dn.length-2][r]):(e=At()-q,t=cn[r]),n.lastFlickOffset[r]=ln[r]-t,n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]),n.lastFlickDist[r]>20?n.lastFlickSpeed[r]=n.lastFlickOffset[r]/e:n.lastFlickSpeed[r]=0,Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0),n.slowDownRatio[r]=.95,n.slowDownRatioReverse[r]=1-n.slowDownRatio[r],n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(dt[e]>nt.min[e]?n.backAnimDestination[e]=nt.min[e]:dt[e]<nt.max[e]&&(n.backAnimDestination[e]=nt.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,nn("bounceZoomPan"+e,dt[e],n.backAnimDestination[e],t||300,i.easing.sine.out,function(t){dt[e]=t,_t()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,dt[e]+=n.distanceOffset[e])},panAnimLoop:function(){return Gt.zoomPan&&(Gt.zoomPan.raf=D(n.panAnimLoop),n.now=At(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),_t(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05)?(dt.x=Math.round(dt.x),dt.y=Math.round(dt.y),_t(),void Zt("zoomPan")):void 0}};return n},Xn=function(e){return e.calculateSwipeSpeed("y"),nt=s.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(en("zoomPan"),e.lastNow=At(),void e.panAnimLoop())},Vn=function(e,t){var n;it||(mn=h);var r;if("swipe"===e){var o=ln.x-cn.x,u=t.lastFlickDist.x<10;o>sn&&(u||t.lastFlickOffset.x>20)?r=-1:-sn>o&&(u||t.lastFlickOffset.x<-20)&&(r=1)}var f;r&&(h+=r,0>h?(h=a.loop?er()-1:0,f=!0):h>=er()&&(h=a.loop?0:er()-1,f=!0),(!f||a.loop)&&(bt+=r,mt-=r,n=!0));var l,c=yt.x*mt,p=Math.abs(c-bn.x);return n||c>bn.x==t.lastFlickSpeed.x>0?(l=Math.abs(t.lastFlickSpeed.x)>0?p/Math.abs(t.lastFlickSpeed.x):333,l=Math.min(l,400),l=Math.max(l,250)):l=333,mn===h&&(n=!1),it=!0,Lt("mainScrollAnimStart"),nn("mainScroll",bn.x,c,l,i.easing.cubic.out,Ht,function(){tn(),it=!1,mn=-1,(n||mn!==h)&&s.updateCurrItem(),Lt("mainScrollAnimComplete")}),n&&s.updateCurrItem(!0),n},$n=function(e){return 1/tt*e*b},Jn=function(){var e=y,t=Wt(),n=Xt();t>y?e=t:y>n&&(e=n);var r,o=1,u=at;return ut&&!z&&!ft&&t>y?(s.close(),!0):(ut&&(r=function(e){Ot((o-u)*e+u)}),s.zoomTo(e,0,200,i.easing.cubic.out,r),!0)};Tt("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,r,i){C=e+t,k=e+n,L=e+r,A=i?e+i:""};M=I.pointerEvent,M&&I.touch&&(I.touch=!1),M?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):I.touch?(e("touch","start","move","end","cancel"),_=!0):e("mouse","down","move","up"),v=k+" "+L+" "+A,m=C,M&&!_&&(_=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=_,g[C]=qn,g[k]=Rn,g[L]=zn,A&&(g[A]=g[L]),I.touch&&(m+=" mousedown",v+=" mousemove mouseup",g.mousedown=g[C],g.mousemove=g[k],g.mouseup=g[L]),_||(a.allowPanToNext=!1)}}});var Kn,Qn,Gn,Yn,Zn,er,tr,nr=function(t,n,r,o){Kn&&clearTimeout(Kn),Yn=!0,Gn=!0;var u;t.initialLayout?(u=t.initialLayout,t.initialLayout=null):u=a.getThumbBoundsFn&&a.getThumbBoundsFn(h);var f=r?a.hideAnimationDuration:a.showAnimationDuration,l=function(){Zt("initialZoom"),r?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(Ot(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),Lt("initialZoom"+(r?"OutEnd":"InEnd"))),o&&o(),Yn=!1};if(!f||!u||void 0===u.x){var p=function(){Lt("initialZoom"+(r?"Out":"In")),y=t.initialZoomLevel,jt(dt,t.initialPosition),_t(),e.style.opacity=r?0:1,Ot(1),l()};return void p()}var d=function(){var n=c,o=!s.currItem.src||s.currItem.loadError||a.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),r||(y=u.w/t.w,dt.x=u.x,dt.y=u.y-B,s[o?"template":"bg"].style.opacity=.001,_t()),en("initialZoom"),r&&!n&&i.removeClass(e,"pswp--animated-in"),o&&(r?i[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),Kn=setTimeout(function(){if(Lt("initialZoom"+(r?"Out":"In")),r){var s=u.w/t.w,a={x:dt.x,y:dt.y},c=y,h=at,p=function(t){1===t?(y=s,dt.x=u.x,dt.y=u.y-F):(y=(s-c)*t+c,dt.x=(u.x-a.x)*t+a.x,dt.y=(u.y-F-a.y)*t+a.y),_t(),o?e.style.opacity=1-t:Ot(h-t*h)};n?nn("initialZoom",0,1,f,i.easing.cubic.out,p,l):(p(1),Kn=setTimeout(l,f+20))}else y=t.initialZoomLevel,jt(dt,t.initialPosition),_t(),Ot(1),o?e.style.opacity=1:Ot(1),Kn=setTimeout(l,f+20)},r?25:90)};d()},rr={},ir=[],sr={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Qn.length}},or=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ur=function(e,t,n){var r=e.bounds;r.center.x=Math.round((rr.x-t)/2),r.center.y=Math.round((rr.y-n)/2)+e.vGap.top,r.max.x=t>rr.x?Math.round(rr.x-t):r.center.x,r.max.y=n>rr.y?Math.round(rr.y-n)+e.vGap.top:r.center.y,r.min.x=t>rr.x?0:r.center.x,r.min.y=n>rr.y?e.vGap.top:r.center.y},ar=function(e,t,n){if(e.src&&!e.loadError){var r=!n;if(r&&(e.vGap||(e.vGap={top:0,bottom:0}),Lt("parseVerticalMargin",e)),rr.x=t.x,rr.y=t.y-e.vGap.top-e.vGap.bottom,r){var i=rr.x/e.w,s=rr.y/e.h;e.fitRatio=s>i?i:s;var o=a.scaleMode;"orig"===o?n=1:"fit"===o&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=or())}if(!n)return;return ur(e,e.w*n,e.h*n),r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=or(),e.initialPosition=e.bounds.center,e.bounds},fr=function(e,t,n,r,i,s){t.loadError||r&&(t.imageAppended=!0,hr(t,r),n.appendChild(r),s&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},lr=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},cr=function(e,t){return e.src&&e.loadError&&e.container?(t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0):void 0},hr=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var r=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=r+"px",e.placeholder.style.height=i+"px"),t.style.width=r+"px",t.style.height=i+"px"}},pr=function(){if(ir.length){for(var e,t=0;t<ir.length;t++)e=ir[t],e.holder.index===e.index&&fr(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);ir=[]}};Tt("Controller",{publicMethods:{lazyLoadItem:function(e){e=Nt(e);var t=Zn(e);!t||t.loaded||t.loading||(Lt("gettingData",e,t),t.src&&lr(t))},initController:function(){i.extend(a,sr,!0),s.items=Qn=n,Zn=s.getItemAt,er=a.getNumItemsFn,tr=a.loop,er()<3&&(a.loop=!1),kt("beforeChange",function(e){var t,n=a.preload,r=null===e?!0:e>0,i=Math.min(n[0],er()),o=Math.min(n[1],er());for(t=1;(r?o:i)>=t;t++)s.lazyLoadItem(h+t);for(t=1;(r?i:o)>=t;t++)s.lazyLoadItem(h-t)}),kt("initialLayout",function(){s.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(h)}),kt("mainScrollAnimComplete",pr),kt("initialZoomInEnd",pr),kt("destroy",function(){for(var e,t=0;t<Qn.length;t++)e=Qn[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);ir=null})},getItemAt:function(e){return e>=0&&void 0!==Qn[e]?Qn[e]:!1},allowProgressiveImg:function(){return a.forceProgressiveLoading||!_||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=Nt(t));var n=s.getItemAt(e.index);n&&(n.container=null);var r,o=s.getItemAt(t);if(!o)return void (e.el.innerHTML="");Lt("gettingData",t,o),e.index=t,e.item=o;var u=o.container=i.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?u.appendChild(o.html):u.innerHTML=o.html),cr(o),ar(o,vt),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&(r=i.createEl("pswp__img","img"),r.style.opacity=1,r.src=o.src,hr(o,r),fr(t,o,u,r,!0));else{if(o.loadComplete=function(n){if(f){if(e&&e.index===t){if(cr(n,!0))return n.loadComplete=n.img=null,ar(n,vt),Dt(n),void (e.index===h&&s.updateCurrZoomItem());n.imageAppended?!Yn&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):I.transform&&(it||Yn)?ir.push({item:n,baseDiv:u,img:n.img,index:t,holder:e,clearPlaceholder:!0}):fr(t,n,u,n.img,it||Yn,!0)}n.loadComplete=null,n.img=null,Lt("imageLoadComplete",t,n)}},i.features.transform){var l="pswp__img pswp__img--placeholder";l+=o.msrc?"":" pswp__img--placeholder--blank";var c=i.createEl(l,o.msrc?"img":"");o.msrc&&(c.src=o.msrc),hr(o,c),u.appendChild(c),o.placeholder=c}o.loading||lr(o),s.allowProgressiveImg()&&(!Gn&&I.transform?ir.push({item:o,baseDiv:u,img:o.img,index:t,holder:e}):fr(t,o,u,o.img,!0,!0))}Gn||t!==h?Dt(o):(rt=u.style,nr(o,r||o.img)),e.el.innerHTML="",e.el.appendChild(u)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var dr,vr={},mr=function(e,t,n){var r=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};r.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(r)};Tt("Tap",{publicMethods:{initTap:function(){kt("firstTouchStart",s.onTapStart),kt("touchRelease",s.onTapRelease),kt("destroy",function(){vr={},dr=null})},onTapStart:function(e){e.length>1&&(clearTimeout(dr),dr=null)},onTapRelease:function(e,t){if(t&&!K&&!$&&!Yt){var n=t;if(dr&&(clearTimeout(dr),dr=null,xn(n,vr)))return void Lt("doubleTap",n);if("mouse"===t.type)return void mr(e,t,"mouse");var r=e.target.tagName.toUpperCase();if("BUTTON"===r||i.hasClass(e.target,"pswp__single-tap"))return void mr(e,t);jt(vr,n),dr=setTimeout(function(){mr(e,t),dr=null},300)}}}});var gr;Tt("DesktopZoom",{publicMethods:{initDesktopZoom:function(){j||(_?kt("mouseUsed",function(){s.setupDesktopZoom()}):s.setupDesktopZoom(!0))},setupDesktopZoom:function(t){gr={};var n="wheel mousewheel DOMMouseScroll";kt("bindEvents",function(){i.bind(e,n,s.handleMouseWheel)}),kt("unbindEvents",function(){gr&&i.unbind(e,n,s.handleMouseWheel)}),s.mouseZoomedIn=!1;var r,o=function(){s.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),s.mouseZoomedIn=!1),1>y?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),u()},u=function(){r&&(i.removeClass(e,"pswp--dragging"),r=!1)};kt("resize",o),kt("afterChange",o),kt("pointerDown",function(){s.mouseZoomedIn&&(r=!0,i.addClass(e,"pswp--dragging"))}),kt("pointerUp",u),t||o()},handleMouseWheel:function(e){if(y<=s.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||Yt||V?e.preventDefault():O&&Math.abs(e.deltaY)>2&&(c=!0,s.close())),!0;if(e.stopPropagation(),gr.x=0,"deltaX"in e)1===e.deltaMode?(gr.x=18*e.deltaX,gr.y=18*e.deltaY):(gr.x=e.deltaX,gr.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(gr.x=-0.16*e.wheelDeltaX),e.wheelDeltaY?gr.y=-0.16*e.wheelDeltaY:gr.y=-0.16*e.wheelDelta;else{if(!("detail"in e))return;gr.y=e.detail}zt(y,!0);var t=dt.x-gr.x,n=dt.y-gr.y;(a.modal||t<=nt.min.x&&t>=nt.max.x&&n<=nt.min.y&&n>=nt.max.y)&&e.preventDefault(),s.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:vt.x/2+gt.x,y:vt.y/2+gt.y};var n=a.getDoubleTapZoom(!0,s.currItem),r=y===n;s.mouseZoomedIn=!r,s.zoomTo(r?s.currItem.initialZoomLevel:n,t,333),i[(r?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var yr,br,wr,Er,Sr,xr,Tr,Nr,Cr,kr,Lr,Ar,Or={history:!0,galleryUID:1},Mr=function(){return Lr.hash.substring(1)},_r=function(){yr&&clearTimeout(yr),wr&&clearTimeout(wr)},Dr=function(){var e=Mr(),t={};if(e.length<5)return t;var n,r=e.split("&");for(n=0;n<r.length;n++)if(r[n]){var i=r[n].split("=");i.length<2||(t[i[0]]=i[1])}if(a.galleryPIDs){var s=t.pid;for(t.pid=0,n=0;n<Qn.length;n++)if(Qn[n].pid===s){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Pr=function(){if(wr&&clearTimeout(wr),Yt||V)return void (wr=setTimeout(Pr,500));Er?clearTimeout(br):Er=!0;var e=h+1,t=Zn(h);t.hasOwnProperty("pid")&&(e=t.pid);var n=Tr+"&gid="+a.galleryUID+"&pid="+e;Nr||-1===Lr.hash.indexOf(n)&&(kr=!0);var r=Lr.href.split("#")[0]+"#"+n;Ar?"#"+n!==window.location.hash&&history[Nr?"replaceState":"pushState"]("",document.title,r):Nr?Lr.replace(r):Lr.hash=n,Nr=!0,br=setTimeout(function(){Er=!1},60)};Tt("History",{publicMethods:{initHistory:function(){if(i.extend(a,Or,!0),a.history){Lr=window.location,kr=!1,Cr=!1,Nr=!1,Tr=Mr(),Ar="pushState"in history,Tr.indexOf("gid=")>-1&&(Tr=Tr.split("&gid=")[0],Tr=Tr.split("?gid=")[0]),kt("afterChange",s.updateURL),kt("unbindEvents",function(){i.unbind(window,"hashchange",s.onHashChange)});var e=function(){xr=!0,Cr||(kr?history.back():Tr?Lr.hash=Tr:Ar?history.pushState("",document.title,Lr.pathname+Lr.search):Lr.hash=""),_r()};kt("unbindEvents",function(){c&&e()}),kt("destroy",function(){xr||e()}),kt("firstUpdate",function(){h=Dr().pid});var t=Tr.indexOf("pid=");t>-1&&(Tr=Tr.substring(0,t),"&"===Tr.slice(-1)&&(Tr=Tr.slice(0,-1))),setTimeout(function(){f&&i.bind(window,"hashchange",s.onHashChange)},40)}},onHashChange:function(){return Mr()===Tr?(Cr=!0,void s.close()):void (Er||(Sr=!0,s.goTo(Dr().pid),Sr=!1))},updateURL:function(){_r(),Sr||(Nr?yr=setTimeout(Pr,800):Pr())}}}),i.extend(s,rn)};return e}),!function(e,t){"function"==typeof define&&define.amd?define("photoswipeui",t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E=this,S=!1,x=!0,T=!0,N={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / "},C=function(e){if(g)return!0;e=e||window.event,m.timeToIdle&&m.mouseUsed&&!l&&B();for(var n,r,i=e.target||e.srcElement,s=i.className,o=0;o<W.length;o++)n=W[o],n.onTap&&s.indexOf("pswp__"+n.name)>-1&&(n.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),g=!0;var u=t.features.isOldAndroid?600:30;y=setTimeout(function(){g=!1},u)}},k=function(){return!e.likelyTouchDevice||m.mouseUsed||screen.width>1200},L=function(e,n,r){t[(r?"add":"remove")+"Class"](e,"pswp__"+n)},A=function(){var e=1===m.getNumItemsFn();e!==v&&(L(r,"ui--one-slide",e),v=e)},O=function(){L(a,"share-modal--hidden",T)},M=function(){return T=!T,T?(t.removeClass(a,"pswp__share-modal--fade-in"),setTimeout(function(){T&&O()},300)):(O(),setTimeout(function(){T||t.addClass(a,"pswp__share-modal--fade-in")},30)),T||D(),!1},_=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),n.href?n.hasAttribute("download")?!0:(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),T||M(),!1):!1},D=function(){for(var e,t,n,r,i,s="",o=0;o<m.shareButtons.length;o++)e=m.shareButtons[o],n=m.getImageURLForShare(e),r=m.getPageURLForShare(e),i=m.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(r)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(i)),s+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",m.parseShareButtonOut&&(s=m.parseShareButtonOut(e,s));a.children[0].innerHTML=s,a.children[0].onclick=_},P=function(e){for(var n=0;n<m.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+m.closeElClasses[n]))return!0},H=0,B=function(){clearTimeout(w),H=0,l&&E.setIdle(!1)},j=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout(function(){E.setIdle(!0)},m.timeToIdleOutside))},F=function(){m.fullscreenEl&&(n||(n=E.getFullscreenAPI()),n?(t.bind(document,n.eventK,E.updateFullscreen),E.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},I=function(){m.preloaderEl&&(q(!0),c("beforeChange",function(){clearTimeout(d),d=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&q(!1):q(!0)},m.loadingIndicatorDelay)}),c("imageLoadComplete",function(t,n){e.currItem===n&&q(!0)}))},q=function(e){p!==e&&(L(h,"preloader--active",!e),p=e)},R=function(e){var n=e.vGap;if(k()){var o=m.barsSize;if(m.captionEl&&"auto"===o.bottom)if(s||(s=t.createEl("pswp__caption pswp__caption--fake"),s.appendChild(t.createEl("pswp__caption__center")),r.insertBefore(s,i),t.addClass(r,"pswp__ui--fit")),m.addCaptionHTMLFn(e,s,!0)){var u=s.clientHeight;n.bottom=parseInt(u,10)||44}else n.bottom=o.top;else n.bottom="auto"===o.bottom?0:o.bottom;n.top=o.top}else n.top=n.bottom=0},U=function(){m.timeToIdle&&c("mouseUsed",function(){t.bind(document,"mousemove",B),t.bind(document,"mouseout",j),b=setInterval(function(){H++,2===H&&E.setIdle(!0)},m.timeToIdle/2)})},z=function(){c("onVerticalDrag",function(e){x&&.95>e?E.hideControls():!x&&e>=.95&&E.showControls()});var e;c("onPinchClose",function(t){x&&.9>t?(E.hideControls(),e=!0):e&&!x&&t>.9&&E.showControls()}),c("zoomGestureEnded",function(){e=!1,e&&!x&&E.showControls()})},W=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){a=e},onTap:function(){M()}},{name:"button--share",option:"shareEl",onInit:function(e){u=e},onTap:function(){M()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){o=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){h=e}}],X=function(){var e,n,i,s=function(r){if(r)for(var s=r.length,o=0;s>o;o++){e=r[o],n=e.className;for(var u=0;u<W.length;u++)i=W[u],n.indexOf("pswp__"+i.name)>-1&&(m[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};s(r.children);var o=t.getChildByClass(r,"pswp__top-bar");o&&s(o.children)};E.init=function(){t.extend(e.options,N,!0),m=e.options,r=t.getChildByClass(e.scrollWrap,"pswp__ui"),c=e.listen,z(),c("beforeChange",E.update),c("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(m.getDoubleTapZoom(!1,e.currItem),t,333)}),c("preventDragEvent",function(e,t,n){var r=e.target||e.srcElement;r&&r.className&&e.type.indexOf("mouse")>-1&&(r.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(n.prevent=!1)}),c("bindEvents",function(){t.bind(r,"pswpTap click",C),t.bind(e.scrollWrap,"pswpTap",E.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",E.onMouseOver)}),c("unbindEvents",function(){T||M(),b&&clearInterval(b),t.unbind(document,"mouseout",j),t.unbind(document,"mousemove",B),t.unbind(r,"pswpTap click",C),t.unbind(e.scrollWrap,"pswpTap",E.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",E.onMouseOver),n&&(t.unbind(document,n.eventK,E.updateFullscreen),n.isFullscreen()&&(m.hideAnimationDuration=0,n.exit()),n=null)}),c("destroy",function(){m.captionEl&&(s&&r.removeChild(s),t.removeClass(i,"pswp__caption--empty")),a&&(a.children[0].onclick=null),t.removeClass(r,"pswp__ui--over-close"),t.addClass(r,"pswp__ui--hidden"),E.setIdle(!1)}),m.showAnimationDuration||t.removeClass(r,"pswp__ui--hidden"),c("initialZoomIn",function(){m.showAnimationDuration&&t.removeClass(r,"pswp__ui--hidden")}),c("initialZoomOut",function(){t.addClass(r,"pswp__ui--hidden")}),c("parseVerticalMargin",R),X(),m.shareEl&&u&&a&&(T=!0),A(),U(),F(),I()},E.setIdle=function(e){l=e,L(r,"ui--idle",e)},E.update=function(){x&&e.currItem?(E.updateIndexIndicator(),m.captionEl&&(m.addCaptionHTMLFn(e.currItem,i),L(i,"caption--empty",!e.currItem.title)),S=!0):S=!1,T||M(),A()},E.updateFullscreen=function(r){r&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},E.updateIndexIndicator=function(){m.counterEl&&(o.innerHTML=e.getCurrentIndex()+1+m.indexIndicatorSep+m.getNumItemsFn())},E.onGlobalTap=function(n){n=n||window.event;var r=n.target||n.srcElement;if(!g)if(n.detail&&"mouse"===n.detail.pointerType){if(P(r))return void e.close();t.hasClass(r,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?m.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(m.tapToToggleControls&&(x?E.hideControls():E.showControls()),m.tapToClose&&(t.hasClass(r,"pswp__img")||P(r)))return void e.close()},E.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;L(r,"ui--over-close",P(t))},E.hideControls=function(){t.addClass(r,"pswp__ui--hidden"),x=!1},E.showControls=function(){x=!0,S||E.update(),t.removeClass(r,"pswp__ui--hidden")},E.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},E.getFullscreenAPI=function(){var t,n=document.documentElement,r="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:r}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+r}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+r}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return f=m.closeOnScroll,m.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return m.closeOnScroll=f,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),define("myPhotoSwipe",["photoswipe","photoswipeui","$"],function(e,t){var n=function(e,t){this.extend(t),$(document).on("click",e,$.proxy(this,"onThumbnailsClick")),this.appendModalDom()};n.prototype={extend:function(e){this.config=r;if(!e)return;for(var t in e){var n=e[t];n&&(this.config[t]=n)}},appendModalDom:function(){if($(".pswp").length>0)return;var e="";this.config.bgFilter&&(e='<div class="filter"><img class="filter-img" src="" alt=""></div>');var t='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg">'+e+"</div>"+'<div class="pswp__scroll-wrap">'+'<div class="pswp__container">'+'<div class="pswp__item"></div>'+'<div class="pswp__item"></div>'+'<div class="pswp__item"></div>'+"</div>"+'<div class="pswp__ui pswp__ui--hidden">'+'<div class="pswp__top-bar">'+'<div class="pswp__counter"></div>'+'<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>'+'<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>'+'<div class="pswp__preloader">'+'<div class="pswp__preloader__icn">'+'<div class="pswp__preloader__cut">'+'<div class="pswp__preloader__donut"></div>'+"</div>"+"</div>"+"</div>"+"</div>"+'<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">'+'<div class="pswp__share-tooltip"></div>'+"</div>"+'<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>'+'<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>'+'<div class="pswp__caption">'+'<div class="pswp__caption__center"></div>'+"</div>"+"</div>"+"</div>"+"</div>";$("body").append(t)},parseThumbnailElements:function(e){var t=e.childNodes,n=t.length,r=[],i,s,o,u;for(var a=0;a<n;a++){i=t[a];if(i.nodeType!==1)continue;s=i.children[0];if(s==undefined)continue;o=s.getAttribute("data-size").split("x"),u={src:s.getAttribute("href"),w:parseInt(o[0],10),h:parseInt(o[1],10)},i.children.length>1&&(u.title=i.children[1].innerHTML),s.children.length>0&&(u.msrc=s.children[0].getAttribute("src")),u.el=i,r.push(u)}return r},closest:function i(e,t){return e&&(t(e)?e:i(e.parentNode,t))},onThumbnailsClick:function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,n=this.closest(t,function(e){return e.tagName&&e.tagName.toUpperCase()==="LI"});if(!n)return;var r=n.parentNode,i=n.parentNode.childNodes,s=i.length,o=0,u;for(var a=0;a<s;a++){if(i[a].nodeType!==1)continue;if(i[a]===n){u=o;break}o++}return u>=0&&this.openPhotoSwipe(u,r),!1},photoswipeParseHash:function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;var n=e.split("&");for(var r=0;r<n.length;r++){if(!n[r])continue;var i=n[r].split("=");if(i.length<2)continue;t[i[0]]=i[1]}return t.gid&&(t.gid=parseInt(t.gid,10)),t},openPhotoSwipe:function(n,r,i,s){var o=document.querySelectorAll(".pswp")[0],u,a;a=this.parseThumbnailElements(r),u={galleryUID:0,getThumbBoundsFn:function(e){var t=a[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,r=t.getBoundingClientRect();return{x:r.left,y:r.top+n,w:r.width}}};if(s)if(u.galleryPIDs){for(var f=0;f<a.length;f++)if(a[f].pid==n){u.index=f;break}}else u.index=parseInt(n,10)-1;else u.index=parseInt(n,10);if(isNaN(u.index))return;i&&(u.showAnimationDuration=0),this.gallery=new e(o,t,a,u),this.gallery.init(),this.gallery.listen("afterChange",$.proxy(this,"afterChange")),this.afterChange()},imageLoadComplete:function(e,t){this.config.bgFilter&&$(".pswp__bg .filter img").attr("src",t.src)},afterChange:function(){this.config.bgFilter&&$(".pswp__bg .filter img").attr("src",this.gallery.currItem.src)}};var r={bgFilter:!1};return n}),define("base",["$","fastclick"],function(){FastClick.attach(document.body);var e=function(e){var t=window.location.href,n=/(\d+)\.(\d+)\.(\d+)\.(\d+)/;this.isFromApp=t.indexOf("hisihi-app")>=0,this.isLocal=!1;if(n.test(t)||t.indexOf("localhost")>=0)this.isLocal=!0;this.deviceType=this.operationType(),this.staticUserNameStr="jg2rw2xVjyrgbrZp",this.userInfo={token:"",session_id:null,name:this.staticUserNameStr},this.statisticToken,this.timeOutFlag=!1,this.extentSetting(e),this._initTimeFormat(),this._initStringExtentFn(),this._addTip(),this._addLoadingImg(),this._addDownloadBar(e)};e.prototype={extentSetting:function(e){this.config=t;if(!e)return;for(var n in t){var r=e[n];r!="undefined"&&(typeof r=="object"?this.config[n]=this.extentSettingSub(this.config[n],r):this.config[n]=r)}},extentSettingSub:function(e,t){for(var n in e)typeof t[n]!="undefined"&&(e[n]=t[n]);return e},getUserInfo:function(e,t){var n="",r=this;if(this.deviceType.mobile){this.deviceType.android?typeof AppFunction!="undefined"&&(n=AppFunction.getUser()):this.deviceType.ios&&typeof getUser_iOS!="undefined"&&(n=getUser_iOS());if(n!="")this.userInfo=JSON.parse(n),this.userInfo.token=this.getBase64encode(this.userInfo.token),e&&e.call(r);else{if(t==0||t===undefined){var i={url:this.baseUrl+"user/login",type:"get",async:!1,paraData:{username:"13554154325",password:"12345678",type:3,client:4},sCallback:function(t){r.userInfo=t,e&&e.call(r)},eCallback:function(){e&&e.call(r)}};r.isLocal?this.getDataAsync(i):e&&e.call(r);return}var s={account:"18140662282",secret:"954957945",type:200};t==1&&(s={account:r.staticUserNameStr,secret:"VbkzpPlZ6H4OvqJW",type:100}),r.getBasicToken({account:s.account,secret:s.secret,type:s.type},!1,function(t){r.userInfo.token=t,r.userInfo.name=s.account,e&&e.call(r,r.userInfo),s.account==r.staticUserNameStr&&(r.statisticToken=t)})}}else e&&e.call(r)},getDataAsync:function(e){e.type||(e.type="post"),e.async==undefined&&(e.async=!0);if(!e.url)return;if(!e.url)return;var t=this,n=$.ajax({url:e.url,async:e.async,type:e.type,data:e.paraData,timeout:1e5,contentType:"application/json",complete:function(t,r){if(r=="success"){var i=t.responseText,s={};i?s=JSON.parse(i):s.status=!1;if(s.success)e.sCallback(JSON.parse(t.responseText));else{var o=s.message,u=s.error_code;o&&o.indexOf("已在其他位置登录")>=0&&(o="需要登录"),e.eCallback&&e.eCallback({code:u,txt:o})}}else r=="timeout"?(n.abort(),e.eCallback&&e.eCallback({code:"408",txt:"超时"})):(e.eCallback&&e.eCallback({code:"404",txt:"no found"}),n.abort())}})},getDataAsyncPy:function(e){e.type||(e.type="post"),e.async==undefined&&(e.async=!0);var t=this,n=$.ajax({async:e.async,url:e.url,type:e.type,data:e.paraData,timeout:5e4,contentType:"application/json",beforeSend:function(t){e.needToken&&t.setRequestHeader("Authorization",e.token)},complete:function(t,r){var i=t.responseText,s={};i?s=JSON.parse(t.responseText):s.code=0,r=="success"?e.sCallback(s):r=="timeout"?(n.abort(),e.eCallback&&e.eCallback({code:"408",txt:"超时"})):(s||(s={code:"404",txt:"no found"}),e.eCallback&&e.eCallback(s))}})},getBasicToken:function(e,t,n){var r=this,i={async:t,url:window.hisihiUrlObj.api_url+"/v1/token",type:"post",paraData:JSON.stringify({account:e.account,secret:e.secret,type:e.type}),sCallback:function(e){var t=r.getBase64encode(e.token);n&&n.call(r,t)},eCallback:function(e){r.showTips(e.txt)}};this.getDataAsyncPy(i)},updateStatisticsNum:function(e){var t=this.statisticToken,n=this,r={url:window.hisihiUrlObj.statis_url+"bootstrap",paraData:JSON.stringify({data:[{type:e}]}),needToken:!0,token:t,sCallback:function(){},eCallback:function(){}};t?n.getDataAsyncPy(r):this.getBasicToken({account:this.staticUserNameStr,secret:"VbkzpPlZ6H4OvqJW",type:100},!0,function(e){r.token=e,n.getDataAsyncPy(r)})},substrLongStr:function(e,t){return e.length>t&&(e=e.substr(0,parseInt(t-1))+"…"),e},getTimeFromTimestamp:function(e,t){return t||(t="yyyy-MM-dd"),(new Date(parseFloat(e)*1e3)).format(t)},_initTimeFormat:function(){Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)(new RegExp("("+n+")")).test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length==1?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},_initStringExtentFn:function(){String.prototype.substrLongStr=function(){var e=this;return this.length>len&&(e=this.substr(0,parseInt(len-1))+"…"),e},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}},getDiffTime:function(e,t){if(e){e=new Date(parseFloat(e)*1e3);var n=6e4,r=n*60,i=r*24,s=new Date,o=s-e,u="";if(o<0)return u;var a=o/(7*i),f=o/i,l=o/r,c=o/n;if(a>=1){var h="MM-dd hh:mm";return t&&(h="yyyy-MM-dd hh:mm"),e.format(h)}if(f==1||l<24&&e.getDate()!=s.getDate())return u="昨天"+e.getHours()+":"+e.getMinutes(),u;if(f>1){var h="MM-dd hh:mm";return t&&(h="yyyy-MM-dd hh:mm"),e.format(h)}return l>=1?(u=parseInt(l)+"小时前",u):c>=1?(u=parseInt(c)+"分钟前",u):(u="刚刚",u)}return""},operationType:function(){var e=navigator.userAgent,t=navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1}},writeInfoToStorage:function(e){var t=window.localStorage;t.setItem(e.key,e.val)},getInfoFromStorage:function(e){var t=window.localStorage,n=t.getItem(e);return n?n:!1},_addLoadingImg:function(){if($("#loading-data").length>0)return;var e='<div id="loading-data" style="display: none;"><img class="loding-img"  src="http://pic.hisihi.com/2016-05-11/1462946331132960.png"></div>';$("body").append(e)},controlLoadingBox:function(e){var t=$("#loading-data"),n=t.find("img");e?t.addClass("active").show():t.removeClass("active").hide()},_addTip:function(){if($("#result-tips").length>0)return;var e='<div id="result-tips" class="result-tips" style="display: none;"><p></p></div>';$("body").append(e)},showTips:function(e,t){if(this.timeOutFlag)return;t=t||1500,e.indexOf("<")<0&&(e="<p>"+e+"</p>"),this.timeOutFlag=!0;var n=$("body").find(".result-tips"),r=this;n.html(e).show(),window.setTimeout(function(){n.hide().html(""),r.timeOutFlag=!1},t)},showTipsNoHide:function(e,t){if(this.timeOutFlag)return;this.timeOutFlag=!0;var n=$("body").find(".result-tips"),r=n.find("p").text(e),i=this;t&&n.html(t),n.show()},hideTips:function(){var e=$("body").find(".result-tips"),t=e.find("p"),n=this;e.hide(),t.text(""),this.timeOutFlag=!1},getBase64encode:function(e){e+=":";var t,n,r,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s,o,u;r=e.length,n=0,t="";while(n<r){s=e.charCodeAt(n++)&255;if(n==r){t+=i.charAt(s>>2),t+=i.charAt((s&3)<<4),t+="==";break}o=e.charCodeAt(n++);if(n==r){t+=i.charAt(s>>2),t+=i.charAt((s&3)<<4|(o&240)>>4),t+=i.charAt((o&15)<<2),t+="=";break}u=e.charCodeAt(n++),t+=i.charAt(s>>2),t+=i.charAt((s&3)<<4|(o&240)>>4),t+=i.charAt((o&15)<<2|(u&192)>>6),t+=i.charAt(u&63)}return"basic "+t},doLogin:function(){this.isFromApp&&(this.deviceType.android?typeof AppFunction!="undefined"&&AppFunction.login():typeof showLoginView!="undefined"&&showLoginView())},setFootStyle:function(e){e||(e=$(".wrapper"));var t=$("#downloadCon"),n=$(document).width(),r=n*120/750;return n>750&&(r=113),t.css({height:r+"px",opacity:1}),e.css({"margin-bottom":r+"px"}),r},_addDownloadBar:function(){var e=this.config.downloadBar;if(e.show&&!this.isFromApp){var t="bottom:0",n={"padding-bottom":e.height};e.pos||(t="top:0",n={"padding-top":e.height});var r='<div id="downloadCon-new" style="'+t+";background-color:"+e.backgroundColor+'">'+'<img src="'+e.logo+'" class="allDownImg" />'+'<div class="words">'+'<div class="title">'+"<label>"+e.title+"</label>"+'<span class="stars">'+'<img src="'+e.starImg+'">'+'<img src="'+e.starImg+'">'+'<img src="'+e.starImg+'">'+'<img src="'+e.starImg+'">'+'<img src="'+e.starImg+'">'+"</span>"+"</div>"+"<p>"+e.description+"</p>"+"</div>"+'<a id="download" style="background-color:'+e.btnBgColor+'" href="http://www.hisihi.com/download.php">'+e.downloadBtnWord+"</a>"+"</div>";$("body").append(r).css(n)}},scrollControl:function(e,t){e?($("html,body").removeClass("noscroll"),window.scrollTo(0,this.scrollTop)):(t=t||$("body"),this.scrollTop=t.scrollTop(),$("html,body").addClass("noscroll"))}};var t={downloadBar:{show:!1,pos:1,title:"嘿设汇",description:"设计师必备，百万设计师都在用",logo:"http://pic.hisihi.com/2016-08-04/1470283879133258.png",starImg:"http://pic.hisihi.com/2016-08-04/1470283927495292.png",downloadBtnWord:"立即下载",btnBgColor:"#FF5A00",backgroundColor:"#9E9A98",height:"56px"}};return e}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?t(exports):typeof define=="function"&&define.amd?define("async",["exports"],t):t(e.async=e.async||{})}(this,function(e){"use strict";function t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,r){return r=n(r===undefined?e.length-1:r,0),function(){var i=arguments,s=-1,o=n(i.length-r,0),u=Array(o);while(++s<o)u[s]=i[r+s];s=-1;var a=Array(r+1);while(++s<r)a[s]=i[s];return a[r]=u,t(e,this,a)}}function i(e){return r(function(t){var n=t.pop();e.call(this,t,n)})}function s(e){return r(function(t,n){var r=i(function(n,r){var i=this;return e(t,function(e,t){e.apply(i,n.concat([t]))},r)});return n.length?r.apply(this,n):r})}function o(e){return function(t){return t==null?undefined:t[e]}}function a(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function p(e){var t=a(e)?h.call(e):"";return t==f||t==l}function v(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=d}function m(e){return e!=null&&v(u(e))&&!p(e)}function g(){}function y(e){return function(){if(e===null)return;var t=e;e=null,t.apply(this,arguments)}}function w(e){return b&&e[b]&&e[b]()}function E(e,t){return function(n){return e(t(n))}}function C(e,t){return e!=null&&(N.call(e,t)||typeof e=="object"&&t in e&&x(e)===null)}function A(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function O(e){return!!e&&typeof e=="object"}function M(e){return O(e)&&m(e)}function j(e){return M(e)&&P.call(e,"callee")&&(!B.call(e,"callee")||H.call(e)==_)}function U(e){return typeof e=="string"||!F(e)&&O(e)&&R.call(e)==I}function z(e){var t=e?e.length:undefined;return v(t)&&(F(e)||U(e)||j(e))?A(t,String):null}function V(e,t){return t=t==null?W:t,!!t&&(typeof e=="number"||X.test(e))&&e>-1&&e%1==0&&e<t}function J(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$;return e===n}function K(e){var t=J(e);if(!t&&!m(e))return L(e);var n=z(e),r=!!n,i=n||[],s=i.length;for(var o in e)C(e,o)&&(!r||o!="length"&&!V(o,s))&&(!t||o!="constructor")&&i.push(o);return i}function Q(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function G(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}function Y(e){var t=K(e),n=-1,r=t.length;return function(){var s=t[++n];return n<r?{value:e[s],key:s}:null}}function Z(e){if(m(e))return Q(e);var t=w(e);return t?G(t):Y(e)}function et(e){return function(){if(e===null)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function tt(e){return function(t,n,r){function u(e){o-=1;if(e)s=!0,r(e);else{if(s&&o<=0)return r(null);a()}}function a(){while(o<e&&!s){var t=i();if(t===null){s=!0,o<=0&&r(null);return}o+=1,n(t.value,t.key,et(u))}}r=y(r||g);if(e<=0||!t)return r(null);var i=Z(t),s=!1,o=0;a()}}function nt(e,t,n,r){tt(t)(e,n,r)}function rt(e,t){return function(n,r,i){return e(n,t,r,i)}}function it(e,t,n){function o(e){e?n(e):++i===s&&n(null)}n=y(n||g);var r=0,i=0,s=e.length;s===0&&n(null);for(;r<s;r++)t(e[r],r,et(o))}function ot(e,t,n){var r=m(e)?it:st;r(e,t,n)}function ut(e){return function(t,n,r){return e(ot,t,n,r)}}function at(e,t,n,r){r=y(r||g),t=t||[];var i=[],s=0;e(t,function(e,t,r){var o=s++;n(e,function(e,t){i[o]=t,r(e)})},function(e){r(e,i)})}function ct(e){return function(t,n,r,i){return e(tt(n),t,r,i)}}function mt(e){return i(function(t,n){var r;try{r=e.apply(this,t)}catch(i){return n(i)}a(r)&&typeof r.then=="function"?r.then(function(e){n(null,e)},function(e){n(e.message?e:new Error(e))}):n(null,r)})}function gt(e,t){var n=-1,r=e?e.length:0;while(++n<r)if(t(e[n],n,e)===!1)break;return e}function yt(e){return function(t,n,r){var i=-1,s=Object(t),o=r(t),u=o.length;while(u--){var a=o[e?u:++i];if(n(s[a],a,s)===!1)break}return t}}function wt(e,t){return e&&bt(e,t,K)}function Et(e,t,n,r){var i=e.length,s=n+(r?1:-1);while(r?s--:++s<i)if(t(e[s],s,e))return s;return-1}function St(e){return e!==e}function xt(e,t,n){if(t!==t)return Et(e,St,n);var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}function Tt(e,t,n){function p(e,t){l.push(function(){b(e,t)})}function d(){if(l.length===0&&u===0)return n(null,o);while(l.length&&u<t){var e=l.shift();e()}}function v(e,t){var n=f[e];n||(n=f[e]=[]),n.push(t)}function m(e){var t=f[e]||[];gt(t,function(e){e()}),d()}function b(e,t){if(a)return;var i=et(r(function(t,r){u--,r.length<=1&&(r=r[0]);if(t){var i={};wt(o,function(e,t){i[t]=e}),i[e]=r,a=!0,f=[],n(t,i)}else o[e]=r,m(e)}));u++;var s=t[t.length-1];t.length>1?s(o,i):s(i)}function w(){var e,t=0;while(c.length)e=c.pop(),t++,gt(E(e),function(e){--h[e]===0&&c.push(e)});if(t!==s)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function E(t){var n=[];return wt(e,function(e,r){F(e)&&xt(e,t,0)>=0&&n.push(r)}),n}typeof t=="function"&&(n=t,t=null),n=y(n||g);var i=K(e),s=i.length;if(!s)return n(null);t||(t=s);var o={},u=0,a=!1,f={},l=[],c=[],h={};wt(e,function(t,n){if(!F(t)){p(n,[t]),c.push(n);return}var r=t.slice(0,t.length-1),i=r.length;if(i===0){p(n,t),c.push(n);return}h[n]=i,gt(r,function(s){if(!e[s])throw new Error("async.auto task `"+n+"` has a non-existent dependency in "+r.join(", "));v(s,function(){i--,i===0&&p(n,t)})})}),w(),d()}function Nt(e,t){var n=-1,r=e?e.length:0,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}function Ct(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}function Pt(e){return typeof e=="symbol"||O(e)&&Dt.call(e)==Mt}function Ft(e){if(typeof e=="string")return e;if(Pt(e))return jt?jt.call(e):"";var t=e+"";return t=="0"&&1/e==-Ht?"-0":t}function It(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var s=Array(i);while(++r<i)s[r]=e[r+t];return s}function qt(e,t,n){var r=e.length;return n=n===undefined?r:n,!t&&n>=r?e:It(e,t,n)}function Rt(e,t){var n=e.length;while(n--&&xt(t,e[n],0)>-1);return n}function Ut(e,t){var n=-1,r=e.length;while(++n<r&&xt(t,e[n],0)>-1);return n}function an(e){return e.match(un)}function fn(e){return e==null?"":Ft(e)}function cn(e,t,n){e=fn(e);if(e&&(n||t===undefined))return e.replace(ln,"");if(!e||!(t=Ft(t)))return e;var r=an(e),i=an(t),s=Ut(r,i),o=Rt(r,i)+1;return qt(r,s,o).join("")}function mn(e){return e=e.toString().replace(vn,""),e=e.match(hn)[2].replace(" ",""),e=e?e.split(pn):[],e=e.map(function(e){return cn(e.replace(dn,""))}),e}function gn(e,t){var n={};wt(e,function(e,t){function i(t,n){var i=Nt(r,function(e){return t[e]});i.push(n),e.apply(null,i)}var r;if(F(e))r=Ct(e),e=r.pop(),n[t]=r.concat(r.length>0?i:e);else if(e.length===1)n[t]=e;else{r=mn(e);if(e.length===0&&r.length===0)throw new Error("autoInject task functions require explicit parameters.");r.pop(),n[t]=r.concat(i)}}),Tt(n,t)}function wn(e){setTimeout(e,0)}function En(e){return r(function(t,n){e(function(){t.apply(null,n)})})}function Tn(){this.head=this.tail=null,this.length=0}function Nn(e,t){e.length=1,e.head=e.tail=t}function Cn(e,t,n){function i(e,t,n){if(n!=null&&typeof n!="function")throw new Error("task callback must be a function");a.started=!0,F(e)||(e=[e]);if(e.length===0&&a.idle())return xn(function(){a.drain()});gt(e,function(e){var r={data:e,callback:n||g};t?a._tasks.unshift(r):a._tasks.push(r)}),xn(a.process)}function s(e){return r(function(t){o-=1,gt(e,function(e){gt(u,function(t,n){if(t===e)return u.splice(n,1),!1}),e.callback.apply(e,t),t[0]!=null&&a.error(t[0],e.data)}),o<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()})}if(t==null)t=1;else if(t===0)throw new Error("Concurrency must not be zero");var o=0,u=[],a={_tasks:new Tn,concurrency:t,payload:n,saturated:g,unsaturated:g,buffer:t/4,empty:g,drain:g,error:g,started:!1,paused:!1,push:function(e,t){i(e,!1,t)},kill:function(){a.drain=g,a._tasks.empty()},unshift:function(e,t){i(e,!0,t)},process:function(){while(!a.paused&&o<a.concurrency&&a._tasks.length){var t=[],n=[],r=a._tasks.length;a.payload&&(r=Math.min(r,a.payload));for(var i=0;i<r;i++){var f=a._tasks.shift();t.push(f),n.push(f.data)}a._tasks.length===0&&a.empty(),o+=1,u.push(t[0]),o===a.concurrency&&a.saturated();var l=et(s(t));e(n,l)}},length:function(){return a._tasks.length},running:function(){return o},workersList:function(){return u},idle:function(){return a._tasks.length+o===0},pause:function(){a.paused=!0},resume:function(){if(a.paused===!1)return;a.paused=!1;var e=Math.min(a.concurrency,a._tasks.length);for(var t=1;t<=e;t++)xn(a.process)}};return a}function kn(e,t){return Cn(e,1,t)}function An(e,t,n,r){r=y(r||g),Ln(e,function(e,r,i){n(t,e,function(e,n){t=n,i(e)})},function(e){r(e,t)})}function _n(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(e,t){i=i.concat(t||[]),r(e)})},function(e){r(e,i)})}function Pn(e){return function(t,n,r){return e(Ln,t,n,r)}}function jn(e){return e}function Fn(e,t,n){return function(r,i,s,o){function u(e){o&&(e?o(e):o(null,n(!1)))}function a(e,r,i){if(!o)return i();s(e,function(r,u){o&&(r?(o(r),o=s=!1):t(u)&&(o(null,n(!0,e)),o=s=!1)),i()})}arguments.length>3?(o=o||g,e(r,i,a,u)):(o=s,o=o||g,s=i,e(r,a,u))}}function In(e,t){return t}function zn(e){return r(function(t,n){t.apply(null,n.concat([r(function(t,n){typeof console=="object"&&(t?console.error&&console.error(t):console[e]&&gt(n,function(t){console[e](t)}))})]))})}function Xn(e,t,n){function s(t,r){if(t)return n(t);if(!r)return n(null);e(i)}n=et(n||g);var i=r(function(e,r){if(e)return n(e);r.push(s),t.apply(this,r)});s(null,!0)}function Vn(e,t,n){n=et(n||g);var i=r(function(r,s){if(r)return n(r);if(t.apply(this,s))return e(i);n.apply(null,[null].concat(s))});e(i)}function $n(e,t,n){Vn(e,function(){return!t.apply(this,arguments)},n)}function Jn(e,t,n){function r(t){if(t)return n(t);e(i)}function i(e,i){if(e)return n(e);if(!i)return n(null);t(r)}n=et(n||g),e(i)}function Kn(e){return function(t,n,r){return e(t,r)}}function Qn(e,t,n){ot(e,Kn(t),n)}function Gn(e,t,n,r){tt(t)(e,Kn(n),r)}function Zn(e){return i(function(t,n){var r=!0;t.push(function(){var e=arguments;r?xn(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function er(e){return!e}function ir(e,t,n,r){r=y(r||g);var i=[];e(t,function(e,t,r){n(e,function(n,s){n?r(n):(s&&i.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,Nt(i.sort(function(e,t){return e.index-t.index}),o("value")))})}function ar(e,t){function i(e){if(e)return n(e);r(i)}var n=et(t||g),r=Zn(e);i()}function lr(e,t,n,r){r=y(r||g);var i={};nt(e,t,function(e,t,r){n(e,t,function(e,n){if(e)return r(e);i[t]=n,r()})},function(e){r(e,i)})}function pr(e,t){return t in e}function dr(e,t){var n=Object.create(null),s=Object.create(null);t=t||jn;var o=i(function(o,u){var a=t.apply(null,o);pr(n,a)?xn(function(){u.apply(null,n[a])}):pr(s,a)?s[a].push(u):(s[a]=[u],e.apply(null,o.concat([r(function(e){n[a]=e;var t=s[a];delete s[a];for(var r=0,i=t.length;r<i;r++)t[r].apply(null,e)})])))});return o.memo=n,o.unmemoized=e,o}function gr(e,t,n){n=n||g;var i=m(t)?[]:{};e(t,function(e,t,n){e(r(function(e,r){r.length<=1&&(r=r[0]),i[t]=r,n(e)}))},function(e){n(e,i)})}function yr(e,t){gr(ot,e,t)}function br(e,t,n){gr(tt(t),e,n)}function wr(e,t){return Cn(function(t,n){e(t[0],n)},t,1)}function Er(e,t){var n=wr(e,t);return n.push=function(e,t,r){r==null&&(r=g);if(typeof r!="function")throw new Error("task callback must be a function");n.started=!0,F(e)||(e=[e]);if(e.length===0)return xn(function(){n.drain()});t=t||0;var i=n._tasks.head;while(i&&t>=i.priority)i=i.next;gt(e,function(e){var s={data:e,priority:t,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}),xn(n.process)},delete n.unshift,n}function Sr(e,t){t=y(t||g);if(!F(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();gt(e,function(e){e(t)})}function Tr(e,t,n,r){var i=xr.call(e).reverse();An(i,t,n,r)}function Nr(e){return i(function(n,i){return n.push(r(function(t,n){if(t)i(null,{error:t});else{var r=null;n.length===1?r=n[0]:n.length>1&&(r=n),i(null,{value:r})}})),e.apply(this,n)})}function Cr(e,t,n,r){ir(e,t,function(e,t){n(e,function(e,n){e?t(e):t(null,!n)})},r)}function Lr(e){var t;return F(e)?t=Nt(e,Nr):(t={},wt(e,function(e,n){t[n]=Nr.call(this,e)})),t}function Mr(e){return function(){return e}}function _r(e,t,n){function o(e,t){if(typeof t=="object")e.times=+t.times||r,e.intervalFunc=typeof t.interval=="function"?t.interval:Mr(+t.interval||i);else{if(typeof t!="number"&&typeof t!="string")throw new Error("Invalid arguments for async.retry");e.times=+t||r}}function a(){t(function(e){e&&u++<s.times?setTimeout(a,s.intervalFunc(u)):n.apply(null,arguments)})}var r=5,i=0,s={times:r,intervalFunc:Mr(i)};arguments.length<3&&typeof e=="function"?(n=t||g,t=e):(o(s,e),n=n||g);if(typeof t!="function")throw new Error("Invalid arguments for async.retry");var u=1;a()}function Dr(e,t){return t||(t=e,e=null),i(function(n,r){function i(e){t.apply(null,n.concat([e]))}e?_r(e,i,r):_r(i,r)})}function Pr(e,t){gr(Ln,e,t)}function Fr(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}ft(e,function(e,n){t(e,function(t,r){if(t)return n(t);n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,Nt(t.sort(r),o("value")))})}function Ir(e,t,n){function u(){o||(r.apply(null,arguments),clearTimeout(s))}function a(){var t=e.name||"anonymous",i=new Error('Callback function "'+t+'" timed out.');i.code="ETIMEDOUT",n&&(i.info=n),o=!0,r(i)}var r,s,o=!1;return i(function(n,i){r=i,s=setTimeout(a,t),e.apply(null,n.concat(u))})}function Ur(e,t,n,r){var i=-1,s=Rr(qr((t-e)/(n||1)),0),o=Array(s);while(s--)o[r?s:++i]=e,e+=n;return o}function zr(e,t,n,r){ht(Ur(0,e,1),t,n,r)}function Vr(e,t,n,r){arguments.length===3&&(r=n,n=t,t=F(e)?[]:{}),r=y(r||g),ot(e,function(e,r,i){n(t,e,r,i)},function(e){r(e,t)})}function $r(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Jr(e,t,n){n=et(n||g);if(!e())return n(null);var i=r(function(r,s){if(r)return n(r);if(e())return t(i);n.apply(null,[null].concat(s))});t(i)}function Kr(e,t,n){Jr(function(){return!e.apply(this,arguments)},t,n)}function Qr(e,t){function i(s){if(n===e.length)return t.apply(null,[null].concat(s));var o=et(r(function(e,n){if(e)return t.apply(null,[e].concat(n));i(n)}));s.push(o);var u=e[n++];u.apply(null,s)}t=y(t||g);if(!F(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;i([])}var n=Math.max,u=o("length"),f="[object Function]",l="[object GeneratorFunction]",c=Object.prototype,h=c.toString,d=9007199254740991,b=typeof Symbol=="function"&&Symbol.iterator,S=Object.getPrototypeOf,x=E(S,Object),T=Object.prototype,N=T.hasOwnProperty,k=Object.keys,L=E(k,Object),_="[object Arguments]",D=Object.prototype,P=D.hasOwnProperty,H=D.toString,B=D.propertyIsEnumerable,F=Array.isArray,I="[object String]",q=Object.prototype,R=q.toString,W=9007199254740991,X=/^(?:0|[1-9]\d*)$/,$=Object.prototype,st=rt(nt,Infinity),ft=ut(at),lt=s(ft),ht=ct(at),pt=rt(ht,1),dt=s(pt),vt=r(function(e,t){return r(function(n){return e.apply(null,t.concat(n))})}),bt=yt(),kt=typeof global=="object"&&global&&global.Object===Object&&global,Lt=typeof self=="object"&&self&&self.Object===Object&&self,At=kt||Lt||Function("return this")(),Ot=At.Symbol,Mt="[object Symbol]",_t=Object.prototype,Dt=_t.toString,Ht=1/0,Bt=Ot?Ot.prototype:undefined,jt=Bt?Bt.toString:undefined,zt="\\ud800-\\udfff",Wt="\\u0300-\\u036f\\ufe20-\\ufe23",Xt="\\u20d0-\\u20f0",Vt="\\ufe0e\\ufe0f",$t="["+zt+"]",Jt="["+Wt+Xt+"]",Kt="\\ud83c[\\udffb-\\udfff]",Qt="(?:"+Jt+"|"+Kt+")",Gt="[^"+zt+"]",Yt="(?:\\ud83c[\\udde6-\\uddff]){2}",Zt="[\\ud800-\\udbff][\\udc00-\\udfff]",en="\\u200d",tn=Qt+"?",nn="["+Vt+"]?",rn="(?:"+en+"(?:"+[Gt,Yt,Zt].join("|")+")"+nn+tn+")*",sn=nn+tn+rn,on="(?:"+[Gt+Jt+"?",Jt,Yt,Zt,$t].join("|")+")",un=RegExp(Kt+"(?="+Kt+")|"+on+sn,"g"),ln=/^\s+|\s+$/g,hn=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,pn=/,/,dn=/(=.+)?(\s*)$/,vn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,yn=typeof setImmediate=="function"&&setImmediate,bn=typeof process=="object"&&typeof process.nextTick=="function",Sn;yn?Sn=setImmediate:bn?Sn=process.nextTick:Sn=wn;var xn=En(Sn);Tn.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},Tn.prototype.empty=Tn,Tn.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},Tn.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},Tn.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):Nn(this,e)},Tn.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):Nn(this,e)},Tn.prototype.shift=function(){return this.head&&this.removeLink(this.head)},Tn.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};var Ln=rt(nt,1),On=r(function(t){return r(function(e){var n=this,i=e[e.length-1];typeof i=="function"?e.pop():i=g,An(t,e,function(e,t,i){t.apply(n,e.concat([r(function(e,t){i(e,t)})]))},function(e,t){i.apply(n,[e].concat(t))})})}),Mn=r(function(e){return On.apply(null,e.reverse())}),Dn=ut(_n),Hn=Pn(_n),Bn=r(function(e){var t=[null].concat(e);return i(function(e,n){return n.apply(this,t)})}),qn=Fn(ot,jn,In),Rn=Fn(nt,jn,In),Un=Fn(Ln,jn,In),Wn=zn("dir"),Yn=rt(Gn,1),tr=Fn(ot,er,er),nr=Fn(nt,er,er),rr=rt(nr,1),sr=ut(ir),or=ct(ir),ur=rt(or,1),fr=zn("log"),cr=rt(lr,Infinity),hr=rt(lr,1),vr;bn?vr=process.nextTick:yn?vr=setImmediate:vr=wn;var mr=En(vr),xr=Array.prototype.slice,kr=ut(Cr),Ar=ct(Cr),Or=rt(Ar,1),Hr=Fn(ot,Boolean,jn),Br=Fn(nt,Boolean,jn),jr=rt(Br,1),qr=Math.ceil,Rr=Math.max,Wr=rt(zr,Infinity),Xr=rt(zr,1),Gr={applyEach:lt,applyEachSeries:dt,apply:vt,asyncify:mt,auto:Tt,autoInject:gn,cargo:kn,compose:Mn,concat:Dn,concatSeries:Hn,constant:Bn,detect:qn,detectLimit:Rn,detectSeries:Un,dir:Wn,doDuring:Xn,doUntil:$n,doWhilst:Vn,during:Jn,each:Qn,eachLimit:Gn,eachOf:ot,eachOfLimit:nt,eachOfSeries:Ln,eachSeries:Yn,ensureAsync:Zn,every:tr,everyLimit:nr,everySeries:rr,filter:sr,filterLimit:or,filterSeries:ur,forever:ar,log:fr,map:ft,mapLimit:ht,mapSeries:pt,mapValues:cr,mapValuesLimit:lr,mapValuesSeries:hr,memoize:dr,nextTick:mr,parallel:yr,parallelLimit:br,priorityQueue:Er,queue:wr,race:Sr,reduce:An,reduceRight:Tr,reflect:Nr,reflectAll:Lr,reject:kr,rejectLimit:Ar,rejectSeries:Or,retry:_r,retryable:Dr,seq:On,series:Pr,setImmediate:xn,some:Hr,someLimit:Br,someSeries:jr,sortBy:Fr,timeout:Ir,times:Wr,timesLimit:zr,timesSeries:Xr,transform:Vr,unmemoize:$r,until:Kr,waterfall:Qr,whilst:Jr,all:tr,any:Hr,forEach:Qn,forEachSeries:Yn,forEachLimit:Gn,forEachOf:ot,forEachOfSeries:Ln,forEachOfLimit:nt,inject:An,foldl:An,foldr:Tr,select:sr,selectLimit:or,selectSeries:ur,wrapSync:mt};e["default"]=Gr,e.applyEach=lt,e.applyEachSeries=dt,e.apply=vt,e.asyncify=mt,e.auto=Tt,e.autoInject=gn,e.cargo=kn,e.compose=Mn,e.concat=Dn,e.concatSeries=Hn,e.constant=Bn,e.detect=qn,e.detectLimit=Rn,e.detectSeries=Un,e.dir=Wn,e.doDuring=Xn,e.doUntil=$n,e.doWhilst=Vn,e.during=Jn,e.each=Qn,e.eachLimit=Gn,e.eachOf=ot,e.eachOfLimit=nt,e.eachOfSeries=Ln,e.eachSeries=Yn,e.ensureAsync=Zn,e.every=tr,e.everyLimit=nr,e.everySeries=rr,e.filter=sr,e.filterLimit=or,e.filterSeries=ur,e.forever=ar,e.log=fr,e.map=ft,e.mapLimit=ht,e.mapSeries=pt,e.mapValues=cr,e.mapValuesLimit=lr,e.mapValuesSeries=hr,e.memoize=dr,e.nextTick=mr,e.parallel=yr,e.parallelLimit=br,e.priorityQueue=Er,e.queue=wr,e.race=Sr,e.reduce=An,e.reduceRight=Tr,e.reflect=Nr,e.reflectAll=Lr,e.reject=kr,e.rejectLimit=Ar,e.rejectSeries=Or,e.retry=_r,e.retryable=Dr,e.seq=On,e.series=Pr,e.setImmediate=xn,e.some=Hr,e.someLimit=Br,e.someSeries=jr,e.sortBy=Fr,e.timeout=Ir,e.times=Wr,e.timesLimit=zr,e.timesSeries=Xr,e.transform=Vr,e.unmemoize=$r,e.until=Kr,e.waterfall=Qr,e.whilst=Jr,e.all=tr,e.allLimit=nr,e.allSeries=rr,e.any=Hr,e.anyLimit=Br,e.anySeries=jr,e.find=qn,e.findLimit=Rn,e.findSeries=Un,e.forEach=Qn,e.forEachSeries=Yn,e.forEachLimit=Gn,e.forEachOf=ot,e.forEachOfSeries=Ln,e.forEachOfLimit=nt,e.inject=An,e.foldl=An,e.foldr=Tr,e.select=sr,e.selectLimit=or,e.selectSeries=ur,e.wrapSync=mt}),define("home",["base","async","myPhotoSwipe","lazyloading"],function(e,t,n){function r(e,t,r){this.$wrapper=e;var i=this;this.baseUrl=r,this.oid=t;var s="click",i=this;this.isLocal&&(this.baseUrl=this.baseUrl.replace("api.php","hisihi-cms/api.php")),this.perPageSize=10,this.pageIndex=1,this.async=!0,this.showGuaranteeBorder=!1,this.controlLoadingBox(!0),window.setTimeout(function(){i.initData()},100),$(document).on(s,".pics-preview-box .li-video",$.proxy(this,"showPicsAndVideoDetailInfo")),$(document).on(s,".coupon-box li, .t-video-box li,.name-main-box img",function(){window.location.href="http://www.hisihi.com/download.php"}),$(document).on(s,".video-modal",function(){event.stopPropagation(),event.target==this&&($(".modal").removeClass("show"),i.scrollControl(!0),i.myPlayer.pause())}),$(window).on("scroll",$.proxy(this,"scrollContainer")),$(document).on("input","#user-name, #phone-num",$.proxy(this,"singInBtnControl")),$(document).on(s,".sing-in-box .active",$.proxy(this,"singIn")),$(document).on(s,".sing-in",$.proxy(this,"showSingInModal")),$(document).on(s,".close-sing-in",$.proxy(this,"closeSingInBox")),new n(".works-preview-box",{bgFilter:!0})}var i={downloadBar:{show:!0,pos:0}};r.prototype=new e(i),r.constructor=r;var s=r.prototype;return s.initData=function(){var e=this;t.series({basic:function(t){e.loadBasicInfoData(function(n){if(!n){e.showTips("机构不存在"),e.controlLoadingBox(!1);return}t(null,n)})},announcement:function(t){e.loadTopAnnouncement(function(e){t(null,e)})},signUp:function(t){e.loadSignUpInfo(function(e){t(null,e)})},coupon:function(t){e.loadCouponInfo(function(e){t(null,e)})},pics:function(t){e.loadPics(function(e){t(null,e)})},video:function(t){e.loadVideo(function(e){t(null,e)})},teacher:function(t){e.loadMyTeachersInfo(function(e){t(null,e)})},teachingVideo:function(t){e.loadTeachingVideoInfo(function(e){t(null,e)})},works:function(t){e.loadWorksInfo(function(e){t(null,e)})},groups:function(t){e.loadGroupsInfo(function(e){t(null,e)})},myCompresAsse:function(t){e.loadMyCompresAsseinfo(function(e){t(null,e)})},detailComment:function(t){e.loadDetailCommentInfo(1,function(e){t(null,e)})}},function(t,n){var r;for(var i in n){var s=null;r=n[i];switch(i){case"basic":s=e.fillInBasicInfoData;break;case"announcement":s=e.fillInTopAnnouncement;break;case"signUp":s=e.fillInSignUpInfo;break;case"coupon":s=e.fillInCouponInfo;break;case"pics":e.fillInPicsAndVideo([n.video],r);break;case"video":break;case"teacher":s=e.fillMyTeachersInfo;break;case"teachingVideo":s=e.fillInTeachingVideo;break;case"works":s=e.fillWorksInfo;break;case"groups":s=e.filInGroupsInfo;break;case"myCompresAsse":s=e.fillMyCompresAsseInfo;break;default:s=e.fillDetailCommentInfo}s&&s.call(e,r)}$("#wrapper,#footer").show(),e.controlLoadingBox(!1),e.initVideoPlayer(),$(".lazy-img").picLazyLoad($(window),{threshold:150})})},s.initVideoPlayer=function(){var e=this;videojs("video-player").ready(function(){e.myPlayer=this})},s.resetVideoPlayerUrl=function(e,t){this.myPlayer||this.initVideoPlayer(),this.myPlayer.src({type:"application/x-mpegURL",src:e}),t||(t="http://pic.hisihi.com/hisihi_home_pic/video_cover.png"),this.myPlayer.poster(t),$(".modal").eq(0).addClass("show")},s.loadBasicInfoData=function(e){var t=this,n=t.$wrapper.find(".logoAndCertInfo"),r={url:this.baseUrl+"appGetBaseInfo",paraData:{organization_id:this.oid,version:2.95},sCallback:function(t){e&&e(t)},eCallback:function(){$(".contact a").attr("href","javacript:void(0)").css("opacity","0.3"),e&&e()},type:"get",async:this.async};this.getDataAsync(r)},s.fillInBasicInfoData=function(e){$(".logo-box").show();var t=e.data,n=t.logo;this.deviceType.android&&(n=window.hisihiUrlObj.image+"/orgbasicinfo/blur.jpg");var r=t.name;r.length>10&&(r=r.substr(0,9)+" …");var i=$(".logo-box");i.find("#filter-logo").attr("src",n),i.find("#logo").attr("src",t.logo),i.find(".name-main-box .org-name").text(t.name),this.setCertInfo(t.authenticationInfo);var s=i.find(".user-number-box label");s.eq(0).text(this.translationCount(t.view_count)),s.eq(1).text(this.translationCount(t.followCount)),t.introduce&&$(".my-introduce").text(t.introduce).parent().show(),t.location&&$(".my-location").text(t.location).parent().show();if(t.advantage){var o=t.advantage.split("#"),u="";for(var a=0;a<o.length;a++)u+="<li>"+o[a]+"</li>";$(".my-tags").html(u).parent().show()}$(".contact a").attr("href","tel:"+t.phone_num),this.setColorBar(t)},s.translationCount=function(e){e=parseInt(e);if(e>9999){e/=1e4;if(e%1e4!=0){e=e.toString();var t=e.indexOf(".");e=e.substr(0,t+2);var n=e.split(".");n[1]==0&&(e=n[0])}e+="万"}return e},s.setCertInfo=function(e){if(!e||e.length==0)return;var t="",n="",r=e.length,i;for(var s=0;s<r;s++){i=e[s];if(i.default_display=="1"){if(i.hisihi_add_v&&i.hisihi_add_v==1){$(".v-cert").show();continue}n=i.tag_pic_url,t+='<img src="'+n+'">'}}$(".cert-box").html(t)},s.setColorBar=function(e){var t=e.guarantee_num|0,n=$(".sing-up-guarantee");if(t){this.showGuaranteeBorder=!0,n.show().find(".guarantee-right span").text("共"+t+"个担保名额");var r=n.find(".disabled"),i=n.find(".available"),s=e.available_num,o;s==null||s==""||s=="undefined"?s=t:s|=0,s>t&&(s=t),n.show().find(".left-num-box span").text("剩余"+s+"人"),o=t-s;var u=(o/t*100).toFixed(2),a=100-u;r.css("width",u+"%"),i.css("width",a+"%")}},s.loadCouponInfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"getPromotionCouponList",paraData:{organization_id:this.oid,version:2.95},sCallback:function(t){e&&e(t)},eCallback:function(e){},type:"get",async:this.async})},s.fillInCouponInfo=function(e){if(!e||e.list.length==0)return;var t=e.list,n=t.length,r="",i;for(var s=0;s<n;s++){i=t[s];if(i.is_out_of_date)continue;r+='<li><div class="coupon-header">￥'+i.money+"</div>"+'<div class="coupon-bottom">'+"<p>适用于："+i.course_name+"</p>"+"</div>"+"</li>"}$(".coupon-box").show().find("ul").html(r)},s.loadTopAnnouncement=function(e){var t=this;this.getDataAsyncPy({url:window.hisihiUrlObj.apiUrlPy+"v1/org/"+this.oid+"/news",sCallback:function(t){e&&e(t)},eCallback:function(e){},type:"get",async:this.async})},s.fillInTopAnnouncement=function(e){if(!e||!e.news||e.news.length==0)return;var t="",n,r=e.news,i=$(".news-box");i.show();var s=r.length;for(var o=0;o<s;o++)o<2&&(n=r[o],t+='<a href="'+n.detail_url+'"><p>'+n.title+"</p></a>");i.find(".right-item div").html(t)},s.scrollSingInInfo=function(){var e=$(".sing-up-detail-box"),t=e.find("p"),n=40,r=t.length,i=-n+"px",s={"margin-top":i,"-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)",opacity:"0.7"};window.setInterval(function(){e.animate(s,500,"ease-out",function(){e.find("p").eq(0).appendTo(e),e.css({marginTop:0,opacity:"1"})})},2500)},s.loadSignUpInfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"enrollList",paraData:{organization_id:this.oid,type:"all"},sCallback:function(t){e&&e(t.data)},eCallback:function(e){},type:"get",async:this.async})},s.fillInSignUpInfo=function(e){var t="",n,r=!e||e.length==0;if(r)return;var i=e.length;for(var s=0;s<i;s++){n=e[s];var o=(new Date(n.create_time*1e3)).format("yyyy-MM-dd");t+="<p><span>"+n.student_name+"</span>同学 于 "+o+" 成功报名</p>"}$(".sing-up-main").show().find(".sing-up-detail-box").html(t),this.showGuaranteeBorder&&$(".sing-up-guarantee").addClass("border"),e.length>1&&this.scrollSingInInfo()},s.loadVideo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"getPropagandaVideo",paraData:{organization_id:this.oid,count:8},sCallback:function(t){e&&e([t.data])},eCallback:function(e){},type:"get",async:this.async})},s.loadPics=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"appGetOrganizationEnvironment",paraData:{organization_id:this.oid,count:8},sCallback:function(t){e&&e(t)},eCallback:function(e){},type:"get",async:this.async})},s.fillInPicsAndVideo=function(e,t){var n=this.getVideoStr(e),r=this.getPicsStr(t.data,!0),i=n;""!=r&&(r='<ul class="works-preview-box">'+r+"</ul>"),i=n+r,i!=""&&$(".pics-box").show().find(".pics-preview-box ul").html(i)},s.getPicsStr=function(e,t){var n=$(".pics-number label").eq(1);if(!e||e.length==0)return"";var r=e.length,i="",s,o,u;t&&n.text(r+"照片").css("display","inline");for(var a=0;a<r;a++)u=e[a],s=u.picture,o=u.thumb,i+='<li class="li-img" data-id="'+u.id+'">'+'<a href="'+s.url+'" data-size="'+s.size.width+"x"+s.size.height+'"></a>'+'<img class="lazy-img works" data-original="'+o.url+'">'+"</li>";return i},s.getVideoStr=function(e,t){if(!e||e.length==0)return;var n=e.length,r="",i,s="",o=$(".pics-number label").eq(0),u="";if(t){var a=$("body").width()*7/16;s="height:"+a+"px;",$(".name-main-box img").css("display","inline-block")}else{if(!e[0].video_url)return o.hide(),"";o.text(n+"视频").show(),u="li-video"}for(var f=0;f<n;f++)i=e[f],i.video_img=i.video_img||i.img||"",i.video_url=i.video_url||"",r+='<li data-url="'+i.video_url+'" style="'+s+'" class="'+u+'">'+'<img class="lazy-img" data-original="'+i.video_img+'">'+'<span class="p-btn"><i class="icon-play"></i></span>'+"</li>";return r},s.showPicsAndVideoDetailInfo=function(e){var t=$(e.currentTarget),n=t.data("url");if(!n){this.showTips("视频暂无");return}this.resetVideoPlayerUrl(t.data("url"),t.find("img").attr("src")),this.scrollControl(!1)},s.loadMyTeachersInfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"appGetTeacherList",paraData:{organization_id:this.oid},sCallback:function(t){e&&e(t.teacherList)},eCallback:function(e){},type:"get",async:this.async})},s.fillMyTeachersInfo=function(e){var t="",n;if(!e||e.length==0)return;var r=e.length;for(var i=0;i<r;i++)n=e[i].info,t+='<li><img src="'+n.avatar128+'"><p>'+n.nickname+"</p></li>";$(".teachers-box").show(),$(".teachers-detail").html(t)},s.loadTeachingVideoInfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"appGetCoursesList",paraData:{organization_id:this.oid},sCallback:function(t){e&&e(t)},eCallback:function(t){$target.css("opacity",1),$target.find(".loadErrorCon").show().find("a").text("获取视频信息失败，，点击重新加载").show(),e()},type:"get",async:this.async})},s.fillInTeachingVideo=function(e){if(!e||e.coursesList.length==0)return;var t=$(".t-video-box").show(),n=this.getVideoStr(e.coursesList,!0);t.find(".basic-header span").html("("+e.coursesList.length+")"),t.find("ul").html(n)},s.showTeachingVideo=function(e){this.showTips("下载App")},s.loadWorksInfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"appGetStudentWorks",paraData:{organization_id:this.oid,count:8,version:2.9},sCallback:function(t){e&&e(t)},eCallback:function(e){},type:"get",async:this.async})},s.fillWorksInfo=function(e){if(!e||!e.data||e.data.length==0)return;var t=$(".works-box").show(),n=e.data,r=n.length,i=this.getPicsStr(e.data,!1);t.find("ul").html(i)},s.loadGroupsInfo=function(e){var t=this;this.getDataAsyncPy({url:window.hisihiUrlObj.apiUrlPy+"/v1/im/org/"+this.oid+"/groups",paraData:{per_page:1},sCallback:function(t){e&&e(t)},eCallback:function(e){},type:"get",async:this.async})},s.filInGroupsInfo=function(e){if(!e||e.data.length==0)return;var t=$(".groups-box").show(),n=e.data[0],r='<div class="left"><img src="'+n.group_avatar+'">'+"</div>"+'<div class="right">'+"<p>"+n.group_name+"</p>"+"</div>";t.find(".groups-detail-box").html(r)},s.loadMyCompresAsseinfo=function(e){var t=this;this.getDataAsync({url:this.baseUrl+"fractionalStatistics",paraData:{organization_id:this.oid},sCallback:function(t){e&&e(t)},eCallback:function(e){},type:"get",async:this.async})},s.fillMyCompresAsseInfo=function(e){var t=e.data;if(!t||t.length==0)return;var n="",r=this,i,s=$(".assessmentDetail li"),o=this.getStarInfoByScore(e.comprehensiveScore),u=e.comprehensiveScore;u.toString().indexOf(".")<0&&(u=parseInt(u)+".0"),$("#myAssessment").text(u),$("#starsConForCompress").prepend(o);for(var a=0;a<t.length;a++)i=t[a],s.each(function(){var e=$(this),t=r.getStarInfoByScore(i.score);if(e.find(".title").text()==i.value)return e.find(".stars-block").html(t),!1})},s.loadDetailCommentInfo=function(e,t){var n=this;this.getDataAsync({url:this.baseUrl+"commentList",paraData:{organization_id:this.oid,page:e,count:n.perPageSize},sCallback:function(e){n.pageSize=Math.ceil((e.totalCount|0)/n.perPageSize),$("#commentNum").text(e.totalCount),t&&t.call(n,e)},eCallback:function(e){},type:"get",async:this.async})},s.fillDetailCommentInfo=function(e){var t=e.data,n="";if(!t||t.length==0){$(".studentCommentDetail .nodata").show();return}var r=t.length,i,s,o;for(var u=0;u<r;u++)i=t[u],s=i.userInfo,o=this.getDiffTime(i.create_time,!0),o.indexOf("-")>=0&&(o=o.split(" ")[0]),n+='<li><div class="imgCon"><div><img src="'+s.avatar128+'"/></div>'+"</div>"+'<div class="commentCon">'+'<div class="commentHead">'+'<span class="commentNickname">'+s.nickname+"</span>"+'<span class="rightItem starsCon">'+this.getStarInfoByScore(i.comprehensive_score|0)+"</span>"+"</div>"+'<p class="content">'+i.comment+"</p>"+'<div class="publicTime">'+o+"</div>"+"</div>"+"</li>";$(".studentCommentDetail").append(n)},s.scrollContainer=function(){var e=$("body"),t=e[0].scrollHeight-$(window).height(),n=e.scrollTop();if(n>=t-320&&!e.hasClass("loading")){var r=this.pageIndex+1;if(r>this.pageSize)return;e.addClass("loading"),this.loadDetailCommentInfo(r,function(){e.removeClass("loading"),this.pageIndex++})}},s.getStarInfoByScore=function(e){e.toString().indexOf(".")>0&&(e=this.myRoundNumber(e));var t="",n=Math.floor(e),r=Math.ceil(e),i=r==n?0:1,s=5-r;for(var o=0;o<n;o++)t+="<i></i>";i==1&&(t+='<i class="half"></i>');for(var o=0;o<s;o++)t+='<i class="none"></i>';return t},s.myRoundNumber=function(e){e=e.toFixed(1);var t=e.split("."),n=t[0],r=t[1];if(r!=0){var i=r<=2,s=r>=7;return i?n|0:s?parseInt(n)+1:parseInt(n)+.5}},s.showSingInModal=function(){$(".sing-in-modal").addClass("show"),$(".sing-in-item input").eq(0).val()&&$(".sing-in-btn").addClass("active"),this.scrollControl(!1)},s.singInBtnControl=function(e){var t=$(".sing-in-item input"),n=t.eq(0).val().trim(),r=$(".sing-in-btn"),i="active";n?r.addClass(i):r.removeClass(i)},s.singIn=function(){var e=$(".sing-in-item input"),t=this,n=e.eq(0).val().trim(),r=e.eq(1).val().trim(),i=/^1\d{10}$/;if(!i.test(n)){this.showTips("请正确输入手机号码");return}this.controlLoadingBox(!0),this.getDataAsync({url:this.baseUrl+"yuyue/organization_id/"+this.oid+"/mobile/"+n+"/username/"+r,sCallback:function(e){t.controlLoadingBox(!1),e.success?($(".sing-in-modal .tips").css("opacity","1"),t.showTips("预约成功")):t.showTips("预约失败")},eCallback:function(e){t.controlLoadingBox(!1);var n="预约失败";e.code==-2&&(n="不能重复预约"),t.showTips(n)},type:"get"})},s.closeSingInBox=function(){$(".sing-in-modal").removeClass("show"),this.scrollControl(!0)},r}),requirejs.config({baseUrl:window.hisihiUrlObj.js,paths:{$:"zepto.min",fx:"fx_v1.1",prefixfree:"prefixfree.min",base:"base-1.1",fastclick:"fastclick",lazyloading:"lazyloading",photoswipe:"photoswipe/photoswipe.min",photoswipeui:"photoswipe/photoswipe-ui-default.min",myPhotoSwipe:"photoswipe/myphotoswipe",home:"../orgbasicinfo/2.9.5/orgbasicinfo",async:"async"},shim:{$:{output:"$"},prefixfree:{output:"prefixfree"},fastclick:{output:"fastclick"}}}),require(["home","prefixfree"],function(e){var t=window.location.href;t.indexOf("%2F")>0&&(t=t.replace(/\%2F/g,"/"));var n=/organization_id\/[1-9][0-9]*/g,r=t.match(n)[0].toString().replace(/organization_id\//g,"");window.orgBasicInfo=new e($("#wrapper"),r,window.hisihiUrlObj.apiUrl)}),define("config",function(){});